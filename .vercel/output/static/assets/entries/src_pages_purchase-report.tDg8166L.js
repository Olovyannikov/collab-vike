import{w as M,f as B,g as N,j as t,B as v,h as F,A as h,F as C,O as g,x as n,Q as V,M as P,K as I,n as L,m as c,P as $,S as H,G as O,q as Q,i as q,o as G,a as W,b as K,c as J,d as X,R as Y}from"../chunks/chunk-Bk084C9z.js";import{H as Z}from"../chunks/chunk-B_eS1n6k.js";import{c as u,p as w,d as j}from"../chunks/chunk-B8qbB2Nc.js";import{B as ee,M as re}from"../chunks/chunk-CgaiKyeh.js";import"../chunks/chunk-ASQl6zNv.js";import{u as te,F as oe,a as ae}from"../chunks/chunk-DTYOO8aT.js";import{s as x}from"../chunks/chunk-BGwg-q-s.js";import{g as se}from"../chunks/chunk-C1sTWy5X.js";import{T as ie}from"../chunks/chunk-BqIM4Y8M.js";import{a as i,T as ne}from"../chunks/chunk-BZNI2sZZ.js";import{F as le}from"../chunks/chunk-BBSJHOYT.js";import{T as de}from"../chunks/chunk-DkyVhvF3.js";import{s as p}from"../chunks/chunk-CYR1Vv2U.js";import{I as pe}from"../chunks/chunk-DO3-1hAU.js";/* empty css                      */import"../chunks/chunk-B7IjmMtm.js";/* empty css                      */import"../chunks/chunk-DsIpRudE.js";import"../chunks/chunk-C35chJPD.js";import"../chunks/chunk-DcwgW6-3.js";import"../chunks/chunk-CFcYA5ax.js";import"../chunks/chunk-Bjl58J2j.js";import"../chunks/chunk-36LFm1f7.js";import"../chunks/chunk-BkeKN5IP.js";import"../chunks/chunk-33JJQHaU.js";import"../chunks/chunk-BtKjlYc6.js";import"../chunks/chunk-CRxMKHzU.js";import"../chunks/chunk-B74xlq9F.js";import"../chunks/chunk-Cxg4_e5S.js";import"../chunks/chunk-CGWifZIs.js";import"../chunks/chunk-C04oBjrl.js";import"../chunks/chunk-CTEXfQiH.js";var b={root:"m_18320242","skeleton-fade":"m_299c329c"};const ce={visible:!0,animate:!0},ue=F((e,{width:r,height:a,radius:o,circle:s})=>({root:{"--skeleton-height":h(a),"--skeleton-width":s?h(a):h(r),"--skeleton-radius":s?"1000px":o===void 0?void 0:C(o)}})),y=M((e,r)=>{const a=B("Skeleton",ce,e),{classNames:o,className:s,style:m,styles:f,unstyled:l,vars:d,width:we,height:je,circle:be,visible:U,radius:ze,animate:E,mod:R,...A}=a,D=N({name:"Skeleton",classes:b,props:a,className:s,style:m,classNames:o,styles:f,unstyled:l,vars:d,varsResolver:ue});return t.jsx(v,{ref:r,...D("root"),mod:[{visible:U,animate:E},R],...A})});y.classes=b;y.displayName="@mantine/core/Skeleton";function me(e){var r,a;V.unit(e)?r=e:{source:r,reset:a}=e;var o=g(!0,{name:"$canTrigger",sid:"ys2jl0"}),s=n({and:[{source:r,filter:o}],or:{name:"trigger",sid:"e3xto3"}});return o.on(s,()=>!1),a&&o.reset(a),s}function fe(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function he(e){return fe(e)&&"data"in e&&"message"in e}const S=P({name:"applyPromocodeClicked",sid:"-94troy"}),z=g("",{name:"$promocodeErrorMessage",sid:"-2c3qs7"}).on(S,()=>""),T=g(!1,{name:"$showSuccessPromoMessage",sid:"-2yl3jp"}),_=P({},{name:"reportPurchased",sid:"wwj1gz"}),ge=I(async e=>{window.open(e,"_self")},{name:"openTransactionPaywallFx",sid:"-cews0i"});n({and:[{clock:S,target:u.start}],or:{sid:"5jgo28"}});n({and:[{clock:u.finished.failure,fn:({error:e})=>he(e)?e.data.message:"",target:z}],or:{sid:"5xrbhm"}});n({and:[{clock:u.finished.failure,fn:()=>!1,target:T}],or:{sid:"6clrid"}});n({and:[{clock:u.finished.success,fn:()=>!0,target:T}],or:{sid:"6fwj2j"}});n({and:[{clock:_,target:w.start}],or:{sid:"6uqz3a"}});n({and:[{source:L({sid:"-dwuloe",fn:()=>me(w.finished.success),name:"source",method:"once"}),fn:({result:e})=>e.confirmation_url,target:ge}],or:{sid:"6xhy23"}});const ye=()=>{const{data:e}=c(se),r=c(ie.$surveyId),a=c(_),o=te({mode:"controlled",initialValues:{email:"",mbti_type:r?"":(e==null?void 0:e.mbti_type)??"",promo_code:"",survey_result:r??""},validate:{email:l=>/^\S+@\S+$/.test(l)?null:"Неправильный email"}}),s={radius:"xs",name:"email",withAsterisk:!0,key:o.key("email"),label:"Электронная почта",placeholder:"name@mail.ru",...o.getInputProps("email")},m={radius:"xs",name:"promo_code",key:o.key("promo_code"),placeholder:"Введите промокод",...o.getInputProps("promo_code")},f=o.onSubmit(l=>{const d={...l};r&&delete d.mbti_type,r||delete d.survey_result,d.promo_code||delete d.promo_code,a(d)});return{form:o,onSubmit:f,emailProps:s,promocodeProps:m}},Se=()=>{const{pending:e}=c(u),{applyPromoHandler:r,promocodeError:a,showSuccessMessage:o}=c({applyPromoHandler:S,promocodeError:z,showSuccessMessage:T}),{onSubmit:s,promocodeProps:m,emailProps:f,form:l}=ye();return t.jsxs(oe,{onSubmit:s,children:[t.jsx(ae,{...f}),t.jsxs($,{bg:"gray.0",radius:"xs",p:"md",px:"sm",children:[t.jsx(i,{className:x.promocodeLabel,children:"У меня есть промокод"}),t.jsxs(le,{className:x.promocodeWrapper,children:[t.jsx(de,{...m,disabled:e,error:a,"data-success":o,description:o?"Промокод применен":"",inputWrapperOrder:["label","input","description","error"]}),t.jsx(ee,{fullWidth:!0,c:"dark.7",radius:"xs",color:"dark.7",variant:"outline",disabled:e,loading:e,onClick:()=>r(l.values.promo_code.toUpperCase()),children:"Применить"})]})]}),t.jsx(re,{disabled:e,radius:"xs",size:"md",type:"submit",children:"Перейти к оплате"}),t.jsxs(i,{fz:12,ta:"center",mb:12,children:["Нажимая на кнопку, вы подтверждаете свое согласие на сбор, хранение и использование ваших персональных данных согласно"," ",t.jsx(i,{fz:12,c:"blue.7",component:"a",href:"/privacy-policy",children:"Политике конфиденциальности"})," ","и принимаете условия"," ",t.jsx(i,{fz:12,c:"blue.7",component:"a",href:"/publisher-offer",children:"Публичной оферты"})]})]})},Te=()=>{const{data:e}=c(j),{data:r}=c(u);return t.jsxs(H,{className:p.wrapper,children:[t.jsx(ne,{className:p.title,order:2,children:"Полный отчет по вашему типу личности"}),t.jsx(y,{className:p.skeleton,hidden:!!(e!=null&&e.regular_price),radius:"sm"}),t.jsxs(O,{gap:"lg",children:[t.jsxs(i,{hidden:!e,className:p.price,td:r!=null&&r.discount?"line-through":"",c:r!=null&&r.discount?"dark.0":"dark.7",children:[e==null?void 0:e.regular_price," ",t.jsx(i,{className:p.price,span:!0,ff:"system-ui",children:"₽"})]}),t.jsxs(i,{hidden:!(r!=null&&r.discount),className:p.price,c:"violet.8",children:[r==null?void 0:r.final_price," ",t.jsx(i,{className:p.price,span:!0,ff:"system-ui",children:"₽"})]})]})]})};function xe(){return t.jsx(pe,{image:"/images/men-temp_large.webp",children:t.jsxs(v,{children:[t.jsx(Te,{}),t.jsx(Se,{}),t.jsx(Z,{})]})})}const ve=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),k=Q();n({and:[{clock:k,target:j.refresh}],or:{sid:"-m6izlg"}});const Pe=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:k},Symbol.toStringTag,{value:"Module"})),sr={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:q}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:G}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:W}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:K}]},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:J}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:X}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:Y}]},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/purchase-report/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ve}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/purchase-report/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Pe}}};export{sr as configValuesSerialized};
