import{m as Me,n as Ne,y as Be,j as y,B as Ee,C as He,s as ee,D as We,W as G,X as O,S as Qe,Z as J,Q as je,a4 as qe,r as c,ah as Ke,a7 as U,$ as Te,a2 as Xe,a0 as Ze,ag as Ge,a1 as Je,ae as Ye,i as et,o as tt,a as rt,b as st,c as ot,d as nt,R as at}from"../chunks/chunk-DaWK8C2F.js";import{A as ne,g as it,I as lt,m as ct}from"../chunks/chunk-B9regnLr.js";import{I as ut,T as dt}from"../chunks/chunk-CM6PpOsY.js";import{s as ft}from"../chunks/chunk-BbMBgJ5h.js";import{B as ae,I as ke,c as ie,j as pt,H as mt,d as pe,a as A,F as yt,M as gt,T as ht}from"../chunks/chunk-BxHTwqsj.js";import{s as K}from"../chunks/chunk-TrDyS8ji.js";import{s as L}from"../chunks/chunk-tnpo0vrQ.js";import{s as St}from"../chunks/chunk-Dl6e6cWP.js";/* empty css                      */import"../chunks/chunk-DXMN5A6d.js";/* empty css                      */import"../chunks/chunk-BS2FAdj6.js";import"../chunks/chunk-64G7xTOu.js";import"../chunks/chunk-C78j02Lg.js";var we={root:"m_18320242","skeleton-fade":"m_299c329c"};const bt={visible:!0,animate:!0},Et=He((t,{width:e,height:r,radius:o,circle:s})=>({root:{"--skeleton-height":ee(r),"--skeleton-width":s?ee(r):ee(e),"--skeleton-radius":s?"1000px":o===void 0?void 0:We(o)}})),le=Me((t,e)=>{const r=Ne("Skeleton",bt,t),{classNames:o,className:s,style:n,styles:i,unstyled:u,vars:a,width:d,height:g,circle:E,visible:P,radius:$,animate:z,mod:f,...p}=r,S=Be({name:"Skeleton",classes:we,props:r,className:s,style:n,classNames:o,styles:i,unstyled:u,vars:a,varsResolver:Et});return y.jsx(Ee,{ref:e,...S("root"),mod:[{visible:P,animate:z},f],...p})});le.classes=we;le.displayName="@mantine/core/Skeleton";function jt(t){var e,r;Qe.unit(t)?e=t:{source:e,reset:r}=t;var o=G(!0,{name:"$canTrigger",sid:"ys2jl0"}),s=O({and:[{source:e,filter:o}],or:{name:"trigger",sid:"e3xto3"}});return o.on(s,()=>!1),r&&o.reset(r),s}const Tt={back:()=>window.history.back()},kt=({...t})=>y.jsx(ae,{...t,c:"dark.7",component:"a",variant:"subtle",className:ft.back,onClick:Tt.back,leftSection:y.jsx(ut,{}),children:"Назад"}),Pe=J({sid:"-1tbyj3",fn:()=>ke({effect:ie(()=>({url:ne.GET_REGULAR_PRICE}))}),name:"getRegularPriceQuery",method:"createQuery"}),N=J({sid:"2o5wn9",fn:()=>ke({effect:ie(t=>({url:ne.GET_PROMO_PRICE(t)}))}),name:"getPriceWithPromocodeQuery",method:"createQuery"}),Ve=J({sid:"i7j439",fn:()=>pt({effect:ie(t=>({url:ne.PURCHASE_REPORT,method:mt.POST,body:t}))}),name:"purchaseReportMutation",method:"createMutation"});G(0,{name:"$regularPrice",sid:"-azggkp"});function wt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Pt(t){return wt(t)&&"data"in t&&"message"in t}const ce=je({name:"applyPromocodeClicked",sid:"-94troy"}),ve=G("",{name:"$promocodeErrorMessage",sid:"-2c3qs7"}).on(ce,()=>""),ue=G(!1,{name:"$showSuccessPromoMessage",sid:"-2yl3jp"}),xe=je({},{name:"reportPurchased",sid:"wwj1gz"}),Vt=qe(async t=>{window.open(t,"_self")},{name:"openTransactionPaywallFx",sid:"-cews0i"});O({and:[{clock:ce,target:N.start}],or:{sid:"5jgo28"}});O({and:[{clock:N.finished.failure,fn:({error:t})=>Pt(t)?t.data.message:"",target:ve}],or:{sid:"5xrbhm"}});O({and:[{clock:N.finished.failure,fn:()=>!1,target:ue}],or:{sid:"6clrid"}});O({and:[{clock:N.finished.success,fn:()=>!0,target:ue}],or:{sid:"6fwj2j"}});O({and:[{clock:xe,target:Ve.start}],or:{sid:"6uqz3a"}});O({and:[{source:J({sid:"-dwuloe",fn:()=>jt(Ve.finished.success),name:"source",method:"once"}),fn:({result:t})=>t.confirmation_url,target:Vt}],or:{sid:"6xhy23"}});function vt(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const xt=typeof window<"u"?c.useLayoutEffect:c.useEffect;function k(t,e){xt(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function Ft(t,e){t&&vt(t),k(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),k(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),k(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),k(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),k(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),k(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),k(`mantine-form:${t}:clear-errors`,e.clearErrors),k(`mantine-form:${t}:reset`,e.reset),k(`mantine-form:${t}:validate`,e.validate),k(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),k(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),k(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),k(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),k(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),k(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),k(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),k(`mantine-form:${t}:reset-touched`,e.resetTouched)}function Rt(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}function te(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const o=t[r];return o!=null&&o!==!1&&(e[r]=o),e},{})}function _t(t){const[e,r]=c.useState(te(t)),o=c.useRef(e),s=c.useCallback(a=>{r(d=>{const g=te(typeof a=="function"?a(d):a);return o.current=g,g})},[]),n=c.useCallback(()=>s({}),[]),i=c.useCallback(a=>{o.current[a]!==void 0&&s(d=>{const g={...d};return delete g[a],g})},[e]),u=c.useCallback((a,d)=>{d==null||d===!1?i(a):o.current[a]!==d&&s(g=>({...g,[a]:d}))},[e]);return{errorsState:e,setErrors:s,clearErrors:n,setFieldError:u,clearFieldError:i}}function re(t,e){if(e===null||typeof e!="object")return{};const r={...e};return Object.keys(e).forEach(o=>{o.includes(`${String(t)}.`)&&delete r[o]}),r}function me(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function ye(t,e,r,o){if(e===void 0)return r;const s=`${String(t)}`;let n=r;o===-1&&(n=re(`${s}.${e}`,n));const i={...n},u=new Set;return Object.entries(n).filter(([a])=>{if(!a.startsWith(`${s}.`))return!1;const d=me(a,s);return Number.isNaN(d)?!1:d>=e}).forEach(([a,d])=>{const g=me(a,s),E=a.replace(`${s}.${g}`,`${s}.${g+o}`);i[E]=d,u.add(E),u.has(a)||delete i[a]}),i}function Dt(t,{from:e,to:r},o){const s=`${t}.${e}`,n=`${t}.${r}`,i={...o};return Object.keys(o).every(u=>{let a,d;if(u.startsWith(s)&&(a=u,d=u.replace(s,n)),u.startsWith(n)&&(a=u.replace(n,s),d=u),a&&d){const g=i[a],E=i[d];return E===void 0?delete i[a]:i[a]=E,g===void 0?delete i[d]:i[d]=g,!1}return!0}),i}function ge(t,e,r){typeof r.value=="object"&&(r.value=M(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function M(t){if(typeof t!="object")return t;var e=0,r,o,s,n=Object.prototype.toString.call(t);if(n==="[object Object]"?s=Object.create(t.__proto__||null):n==="[object Array]"?s=Array(t.length):n==="[object Set]"?(s=new Set,t.forEach(function(i){s.add(M(i))})):n==="[object Map]"?(s=new Map,t.forEach(function(i,u){s.set(M(u),M(i))})):n==="[object Date]"?s=new Date(+t):n==="[object RegExp]"?s=new RegExp(t.source,t.flags):n==="[object DataView]"?s=new t.constructor(M(t.buffer)):n==="[object ArrayBuffer]"?s=t.slice(0):n.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(o=Object.getOwnPropertySymbols(t);e<o.length;e++)ge(s,o[e],Object.getOwnPropertyDescriptor(t,o[e]));for(e=0,o=Object.getOwnPropertyNames(t);e<o.length;e++)Object.hasOwnProperty.call(s,r=o[e])&&s[r]===t[r]||ge(s,r,Object.getOwnPropertyDescriptor(t,r))}return s||t}function Fe(t){return typeof t!="string"?[]:t.split(".")}function w(t,e){const r=Fe(t);if(r.length===0||typeof e!="object"||e===null)return;let o=e[r[0]];for(let s=1;s<r.length&&o!=null;s+=1)o=o[r[s]];return o}function W(t,e,r){const o=Fe(t);if(o.length===0)return r;const s=M(r);if(o.length===1)return s[o[0]]=e,s;let n=s[o[0]];for(let i=1;i<o.length-1;i+=1){if(n===void 0)return s;n=n[o[i]]}return n[o[o.length-1]]=e,s}function Ct(t,{from:e,to:r},o){const s=w(t,o);if(!Array.isArray(s))return o;const n=[...s],i=s[e];return n.splice(e,1),n.splice(r,0,i),W(t,n,o)}function At(t,e,r,o){const s=w(t,o);if(!Array.isArray(s))return o;const n=[...s];return n.splice(typeof r=="number"?r:n.length,0,e),W(t,n,o)}function Ot(t,e,r){const o=w(t,r);return Array.isArray(o)?W(t,o.filter((s,n)=>n!==e),r):r}function $t(t,e,r,o){const s=w(t,o);if(!Array.isArray(s)||s.length<=r)return o;const n=[...s];return n[r]=e,W(t,n,o)}function zt({$values:t,$errors:e,$status:r}){const o=c.useCallback((u,a)=>{r.clearFieldDirty(u),e.setErrors(d=>Dt(u,a,d)),t.setValues({values:Ct(u,a,t.refValues.current),updateState:!0})},[]),s=c.useCallback((u,a)=>{r.clearFieldDirty(u),e.setErrors(d=>ye(u,a,d,-1)),t.setValues({values:Ot(u,a,t.refValues.current),updateState:!0})},[]),n=c.useCallback((u,a,d)=>{r.clearFieldDirty(u),e.setErrors(g=>ye(u,d,g,1)),t.setValues({values:At(u,a,d,t.refValues.current),updateState:!0})},[]),i=c.useCallback((u,a,d)=>{r.clearFieldDirty(u),t.setValues({values:$t(u,d,a,t.refValues.current),updateState:!0})},[]);return{reorderListItem:o,removeListItem:s,insertListItem:n,replaceListItem:i}}var It=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var o,s,n;if(Array.isArray(e)){if(o=e.length,o!=r.length)return!1;for(s=o;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(n=Object.keys(e),o=n.length,o!==Object.keys(r).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[s]))return!1;for(s=o;s--!==0;){var i=n[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r};const X=Ke(It);function H(t,e){const r=Object.keys(t);if(typeof e=="string"){const o=r.filter(s=>s.startsWith(`${e}.`));return t[e]||o.some(s=>t[s])||!1}return r.some(o=>t[o])}function Lt({initialDirty:t,initialTouched:e,mode:r,$values:o}){const[s,n]=c.useState(e),[i,u]=c.useState(t),a=c.useRef(e),d=c.useRef(t),g=c.useCallback(m=>{const b=typeof m=="function"?m(a.current):m;a.current=b,r==="controlled"&&n(b)},[]),E=c.useCallback((m,b=!1)=>{const j=typeof m=="function"?m(d.current):m;d.current=j,(r==="controlled"||b)&&u(j)},[]),P=c.useCallback(()=>g({}),[]),$=c.useCallback(m=>{const b=m?{...m,...o.refValues.current}:o.refValues.current;o.setValuesSnapshot(b),E({})},[]),z=c.useCallback((m,b)=>{g(j=>H(j,m)===b?j:{...j,[m]:b})},[]),f=c.useCallback((m,b,j)=>{E(x=>H(x,m)===b?x:{...x,[m]:b},j)},[]),p=c.useCallback((m,b)=>{const j=H(d.current,m),x=!X(w(m,o.getValuesSnapshot()),b),I=re(m,d.current);I[m]=x,E(I,j!==x)},[]),S=c.useCallback(m=>H(a.current,m),[]),F=c.useCallback(m=>E(b=>{if(typeof m!="string")return b;const j=re(m,b);return delete j[m],X(j,b)?b:j}),[]),V=c.useCallback(m=>{if(m){const j=w(m,d.current);if(typeof j=="boolean")return j;const x=w(m,o.refValues.current),I=w(m,o.valuesSnapshot.current);return!X(x,I)}return Object.keys(d.current).length>0?H(d.current):!X(o.refValues.current,o.valuesSnapshot.current)},[]),D=c.useCallback(()=>d.current,[]),v=c.useCallback(()=>a.current,[]);return{touchedState:s,dirtyState:i,touchedRef:a,dirtyRef:d,setTouched:g,setDirty:E,resetDirty:$,resetTouched:P,isTouched:S,setFieldTouched:z,setFieldDirty:f,setTouchedState:n,setDirtyState:u,clearFieldDirty:F,isDirty:V,getDirty:D,getTouched:v,setCalculatedFieldDirty:p}}function Ut({initialValues:t,onValuesChange:e,mode:r}){const o=c.useRef(!1),[s,n]=c.useState(t||{}),i=c.useRef(s),u=c.useRef(s),a=c.useCallback(({values:f,subscribers:p,updateState:S=!0,mergeWithPreviousValues:F=!0})=>{const V=i.current,D=f instanceof Function?f(i.current):f,v=F?{...V,...D}:D;i.current=v,S&&n(v),e==null||e(v,V),p==null||p.filter(Boolean).forEach(m=>m({updatedValues:v,previousValues:V}))},[e]),d=c.useCallback(f=>{var F;const p=w(f.path,i.current),S=f.value instanceof Function?f.value(p):f.value;if(p!==S){const V=i.current,D=W(f.path,S,i.current);a({values:D,updateState:f.updateState}),(F=f.subscribers)==null||F.filter(Boolean).forEach(v=>v({path:f.path,updatedValues:D,previousValues:V}))}},[a]),g=c.useCallback(f=>{u.current=f},[]),E=c.useCallback((f,p)=>{o.current||(o.current=!0,a({values:f,updateState:r==="controlled"}),g(f),p())},[a]),P=c.useCallback(()=>{a({values:u.current,updateState:!0,mergeWithPreviousValues:!1})},[a]),$=c.useCallback(()=>i.current,[]),z=c.useCallback(()=>u.current,[]);return{initialized:o,stateValues:s,refValues:i,valuesSnapshot:u,setValues:a,setFieldValue:d,resetValues:P,setValuesSnapshot:g,initialize:E,getValues:$,getValuesSnapshot:z}}function Mt({$status:t}){const e=c.useRef({}),r=c.useCallback((s,n)=>{c.useEffect(()=>(e.current[s]=e.current[s]||[],e.current[s].push(n),()=>{e.current[s]=e.current[s].filter(i=>i!==n)}),[n])},[]),o=c.useCallback(s=>e.current[s]?e.current[s].map(n=>i=>n({previousValue:w(s,i.previousValues),value:w(s,i.updatedValues),touched:t.isTouched(s),dirty:t.isDirty(s)})):[],[]);return{subscribers:e,watch:r,getFieldSubscribers:o}}function he(t,e){return t?`${t}-${e.toString()}`:e.toString()}function Se(t){const e=te(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function se(t,e,r="",o={}){return typeof t!="object"||t===null?o:Object.keys(t).reduce((s,n)=>{const i=t[n],u=`${r===""?"":`${r}.`}${n}`,a=w(u,e);let d=!1;return typeof i=="function"&&(s[u]=i(a,e,u)),typeof i=="object"&&Array.isArray(a)&&(d=!0,a.forEach((g,E)=>se(i,e,`${u}.${E}`,s))),typeof i=="object"&&typeof a=="object"&&a!==null&&(d||se(i,e,u,s)),s},o)}function oe(t,e){return Se(typeof t=="function"?t(e):se(t,e))}function Z(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const o=oe(e,r),s=Object.keys(o.errors).find(n=>t.split(".").every((i,u)=>i===n.split(".")[u]));return{hasError:!!s,error:s?o.errors[s]:null}}const Nt="__MANTINE_FORM_INDEX__";function be(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]+/g,`.${Nt}`)):!1:!1}function Bt({name:t,mode:e="controlled",initialValues:r,initialErrors:o={},initialDirty:s={},initialTouched:n={},clearInputErrorOnChange:i=!0,validateInputOnChange:u=!1,validateInputOnBlur:a=!1,onValuesChange:d,transformValues:g=f=>f,enhanceGetInputProps:E,validate:P,onSubmitPreventDefault:$="always",touchTrigger:z="change"}={}){const f=_t(o),p=Ut({initialValues:r,onValuesChange:d,mode:e}),S=Lt({initialDirty:s,initialTouched:n,$values:p,mode:e}),F=zt({$values:p,$errors:f,$status:S}),V=Mt({$status:S}),[D,v]=c.useState(0),[m,b]=c.useState({}),[j,x]=c.useState(!1),I=c.useCallback(()=>{p.resetValues(),f.clearErrors(),S.resetDirty(),S.resetTouched(),e==="uncontrolled"&&v(l=>l+1)},[]),Q=c.useCallback(l=>{i&&f.clearErrors(),e==="uncontrolled"&&v(h=>h+1),Object.keys(V.subscribers.current).forEach(h=>{const T=w(h,p.refValues.current),R=w(h,l);T!==R&&V.getFieldSubscribers(h).forEach(C=>C({previousValues:l,updatedValues:p.refValues.current}))})},[i]),_e=c.useCallback(l=>{const h=p.refValues.current;p.initialize(l,()=>e==="uncontrolled"&&v(T=>T+1)),Q(h)},[Q]),de=c.useCallback((l,h,T)=>{const R=be(l,u),C=h instanceof Function?h(w(l,p.refValues.current)):h;S.setCalculatedFieldDirty(l,C),z==="change"&&S.setFieldTouched(l,!0),!R&&i&&f.clearFieldError(l),p.setFieldValue({path:l,value:h,updateState:e==="controlled",subscribers:[...V.getFieldSubscribers(l),R?B=>{const _=Z(l,P,B.updatedValues);_.hasError?f.setFieldError(l,_.error):f.clearFieldError(l)}:null,(T==null?void 0:T.forceUpdate)!==!1&&e!=="controlled"?()=>b(B=>({...B,[l]:(B[l]||0)+1})):null]})},[d,P]),De=c.useCallback(l=>{const h=p.refValues.current;p.setValues({values:l,updateState:e==="controlled"}),Q(h)},[d,Q]),fe=c.useCallback(()=>{const l=oe(P,p.refValues.current);return f.setErrors(l.errors),l},[P]),Ce=c.useCallback(l=>{const h=Z(l,P,p.refValues.current);return h.hasError?f.setFieldError(l,h.error):f.clearFieldError(l),h},[P]),Ae=(l,{type:h="input",withError:T=!0,withFocus:R=!0,...C}={})=>{const _={onChange:Rt(q=>de(l,q,{forceUpdate:!1})),"data-path":he(t,l)};return T&&(_.error=f.errorsState[l]),h==="checkbox"?_[e==="controlled"?"checked":"defaultChecked"]=w(l,p.refValues.current):_[e==="controlled"?"value":"defaultValue"]=w(l,p.refValues.current),R&&(_.onFocus=()=>S.setFieldTouched(l,!0),_.onBlur=()=>{if(be(l,a)){const q=Z(l,P,p.refValues.current);q.hasError?f.setFieldError(l,q.error):f.clearFieldError(l)}}),Object.assign(_,E==null?void 0:E({inputProps:_,field:l,options:{type:h,withError:T,withFocus:R,...C},form:Y}))},Oe=(l,h)=>T=>{$==="always"&&(T==null||T.preventDefault());const R=fe();if(R.hasErrors)$==="validation-failed"&&(T==null||T.preventDefault()),h==null||h(R.errors,p.refValues.current,T);else{const C=l==null?void 0:l(g(p.refValues.current),T);C instanceof Promise&&(x(!0),C.finally(()=>x(!1)))}},$e=l=>g(l||p.refValues.current),ze=c.useCallback(l=>{l.preventDefault(),I()},[]),Ie=c.useCallback(l=>l?!Z(l,P,p.refValues.current).hasError:!oe(P,p.refValues.current).hasErrors,[P]),Le=l=>`${D}-${l}-${m[l]||0}`,Ue=c.useCallback(l=>document.querySelector(`[data-path="${he(t,l)}"]`),[]),Y={watch:V.watch,initialized:p.initialized.current,values:p.stateValues,getValues:p.getValues,setInitialValues:p.setValuesSnapshot,initialize:_e,setValues:De,setFieldValue:de,submitting:j,setSubmitting:x,errors:f.errorsState,setErrors:f.setErrors,setFieldError:f.setFieldError,clearFieldError:f.clearFieldError,clearErrors:f.clearErrors,resetDirty:S.resetDirty,setTouched:S.setTouched,setDirty:S.setDirty,isTouched:S.isTouched,resetTouched:S.resetTouched,isDirty:S.isDirty,getTouched:S.getTouched,getDirty:S.getDirty,reorderListItem:F.reorderListItem,insertListItem:F.insertListItem,removeListItem:F.removeListItem,replaceListItem:F.replaceListItem,reset:I,validate:fe,validateField:Ce,getInputProps:Ae,onSubmit:Oe,onReset:ze,isValid:Ie,getTransformedValues:$e,key:Le,getInputNode:Ue};return Ft(t,Y),Y}const Ht=()=>{const{data:t}=U(it),e=U(dt.$surveyId),r=U(xe),o=Bt({mode:"controlled",initialValues:{email:"",mbti_type:e?"":(t==null?void 0:t.mbti_type)??"",promo_code:"",survey_result:e??""},validate:{email:u=>/^\S+@\S+$/.test(u)?null:"Неправильный email"}}),s={radius:"xs",name:"email",withAsterisk:!0,key:o.key("email"),label:"Электронная почта",placeholder:"name@mail.ru",...o.getInputProps("email")},n={radius:"xs",name:"promo_code",key:o.key("promo_code"),placeholder:"Введите промокод",...o.getInputProps("promo_code")},i=o.onSubmit(u=>{const a={...u};e&&delete a.mbti_type,e||delete a.survey_result,a.promo_code||delete a.promo_code,r(a)});return{form:o,onSubmit:i,emailProps:s,promocodeProps:n}},Wt=()=>{const{pending:t}=U(N),{applyPromoHandler:e,promocodeError:r,showSuccessMessage:o}=U({applyPromoHandler:ce,promocodeError:ve,showSuccessMessage:ue}),{onSubmit:s,promocodeProps:n,emailProps:i,form:u}=Ht();return y.jsx("form",{onSubmit:s,children:y.jsxs(Te,{className:K.stackWrapper,children:[y.jsx(pe,{...i,classNames:K}),y.jsxs(Xe,{bg:"gray.0",radius:"xs",p:"md",px:"sm",children:[y.jsx(A,{className:K.promocodeLabel,children:"У меня есть промокод"}),y.jsxs(yt,{className:K.promocodeWrapper,children:[y.jsx(pe,{...n,disabled:t,error:r,"data-success":o,description:o?"Промокод применен":"",inputWrapperOrder:["label","input","description","error"]}),y.jsx(ae,{fullWidth:!0,c:"dark.7",radius:"xs",color:"dark.7",variant:"outline",onClick:()=>e(u.values.promo_code.toUpperCase()),children:"Применить"})]})]}),y.jsx(gt,{disabled:t,radius:"xs",size:"md",type:"submit",children:"Перейти к оплате"}),y.jsxs(A,{fz:12,ta:"center",mb:12,children:["Нажимая на кнопку, вы подтверждаете свое согласие на сбор, хранение и использование ваших персональных данных согласно"," ",y.jsx(A,{fz:12,c:"blue.7",component:"a",href:"/privacy-policy",children:"Политике конфиденциальности"})," ","и принимаете условия"," ",y.jsx(A,{fz:12,c:"blue.7",component:"a",href:"/publisher-offer",children:"Публичной оферты"})]})]})})},Qt=()=>{const{data:t}=U(Pe),{data:e}=U(N);return y.jsxs(Te,{className:L.wrapper,children:[y.jsx(ht,{className:L.title,order:2,children:"Полный отчет по вашему типу личности"}),y.jsx(le,{className:L.skeleton,hidden:!!(t!=null&&t.regular_price),radius:"sm"}),y.jsxs(Ze,{gap:"lg",children:[y.jsxs(A,{hidden:!t,className:L.price,td:e!=null&&e.discount?"line-through":"",c:e!=null&&e.discount?"dark.0":"dark.7",children:[t==null?void 0:t.regular_price," ",y.jsx(A,{className:L.price,span:!0,ff:"system-ui",children:"₽"})]}),y.jsxs(A,{hidden:!(e!=null&&e.discount),className:L.price,c:"violet.8",children:[e==null?void 0:e.final_price," ",y.jsx(A,{className:L.price,span:!0,ff:"system-ui",children:"₽"})]})]})]})};function qt(){return y.jsxs(Ge,{pb:"5xl",children:[y.jsx(kt,{}),y.jsxs(lt,{className:St.wrapper,children:[y.jsx(Je,{src:ct,width:185,height:178,flex:"auto"}),y.jsxs(Ee,{children:[y.jsx(Qt,{}),y.jsx(Wt,{}),y.jsx(ae,{fullWidth:!0,variant:"transparent",c:"dark.7",component:"a",href:"/help",children:"Служба поддержки"})]})]})]})}const Kt=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"})),Re=Ye();O({and:[{clock:Re,target:Pe.refresh}],or:{sid:"-m6izlg"}});const Xt=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:Re},Symbol.toStringTag,{value:"Module"})),ur={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:et}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:tt}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:rt}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:st}]},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ot}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:nt}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:at}]},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/purchase-report/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Kt}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/purchase-report/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Xt}}};export{ur as configValuesSerialized};
