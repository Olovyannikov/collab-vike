import{n as M,p as B,t as N,j as t,B as v,v as C,w as h,y as F,z as g,x as n,A as V,q as P,g as I,k as L,h as c,P as $,S as H,G as O,f as q,i as Q,o as G,a as W,b as J,c as K,d as X,R as Y}from"../chunks/chunk-B7aSH9UJ.js";import{H as Z}from"../chunks/chunk-B3coERSg.js";import{c as u,p as w,d as j}from"../chunks/chunk-BvhSILn9.js";import{B as ee,M as re}from"../chunks/chunk-DRQrkCFA.js";import"../chunks/chunk-ASQl6zNv.js";import{u as te,F as oe,a as ae}from"../chunks/chunk-CxAr37Df.js";import{s as x}from"../chunks/chunk-puvJOsNw.js";import{g as se}from"../chunks/chunk-BhYyk-pP.js";import{T as ie}from"../chunks/chunk-DO6_mXd7.js";import{T as i,a as ne}from"../chunks/chunk-CLU6_XL5.js";import{F as le}from"../chunks/chunk-jx7XW5ck.js";import{T as de}from"../chunks/chunk-CpxUxJZ7.js";import{s as p}from"../chunks/chunk-BMrSlKbf.js";import{I as pe}from"../chunks/chunk-BOZ9_kR7.js";/* empty css                      */import"../chunks/chunk-B7IjmMtm.js";/* empty css                      */import"../chunks/chunk-DDXIYpn5.js";import"../chunks/chunk-C3S2g9vg.js";import"../chunks/chunk-DM-kx-Ge.js";import"../chunks/chunk-FDnwkDT-.js";import"../chunks/chunk-V0uJMyUe.js";import"../chunks/chunk-Dz5LKZpP.js";import"../chunks/chunk-CaEi3jdj.js";import"../chunks/chunk-B99jyj7J.js";import"../chunks/chunk-BbMBgJ5h.js";import"../chunks/chunk-aeiBAxdR.js";import"../chunks/chunk-iZ2L0nw_.js";import"../chunks/chunk-CcAsZAUm.js";var b={root:"m_18320242","skeleton-fade":"m_299c329c"};const ce={visible:!0,animate:!0},ue=C((e,{width:r,height:a,radius:o,circle:s})=>({root:{"--skeleton-height":h(a),"--skeleton-width":s?h(a):h(r),"--skeleton-radius":s?"1000px":o===void 0?void 0:F(o)}})),y=M((e,r)=>{const a=B("Skeleton",ce,e),{classNames:o,className:s,style:m,styles:f,unstyled:l,vars:d,width:we,height:je,circle:be,visible:U,radius:ze,animate:E,mod:R,...A}=a,D=N({name:"Skeleton",classes:b,props:a,className:s,style:m,classNames:o,styles:f,unstyled:l,vars:d,varsResolver:ue});return t.jsx(v,{ref:r,...D("root"),mod:[{visible:U,animate:E},R],...A})});y.classes=b;y.displayName="@mantine/core/Skeleton";function me(e){var r,a;V.unit(e)?r=e:{source:r,reset:a}=e;var o=g(!0,{name:"$canTrigger",sid:"ys2jl0"}),s=n({and:[{source:r,filter:o}],or:{name:"trigger",sid:"e3xto3"}});return o.on(s,()=>!1),a&&o.reset(a),s}function fe(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function he(e){return fe(e)&&"data"in e&&"message"in e}const S=P({name:"applyPromocodeClicked",sid:"-94troy"}),z=g("",{name:"$promocodeErrorMessage",sid:"-2c3qs7"}).on(S,()=>""),T=g(!1,{name:"$showSuccessPromoMessage",sid:"-2yl3jp"}),k=P({},{name:"reportPurchased",sid:"wwj1gz"}),ge=I(async e=>{window.open(e,"_self")},{name:"openTransactionPaywallFx",sid:"-cews0i"});n({and:[{clock:S,target:u.start}],or:{sid:"5jgo28"}});n({and:[{clock:u.finished.failure,fn:({error:e})=>he(e)?e.data.message:"",target:z}],or:{sid:"5xrbhm"}});n({and:[{clock:u.finished.failure,fn:()=>!1,target:T}],or:{sid:"6clrid"}});n({and:[{clock:u.finished.success,fn:()=>!0,target:T}],or:{sid:"6fwj2j"}});n({and:[{clock:k,target:w.start}],or:{sid:"6uqz3a"}});n({and:[{source:L({sid:"-dwuloe",fn:()=>me(w.finished.success),name:"source",method:"once"}),fn:({result:e})=>e.confirmation_url,target:ge}],or:{sid:"6xhy23"}});const ye=()=>{const{data:e}=c(se),r=c(ie.$surveyId),a=c(k),o=te({mode:"controlled",initialValues:{email:"",mbti_type:r?"":(e==null?void 0:e.mbti_type)??"",promo_code:"",survey_result:r??""},validate:{email:l=>/^\S+@\S+$/.test(l)?null:"Неправильный email"}}),s={radius:"xs",name:"email",withAsterisk:!0,key:o.key("email"),label:"Электронная почта",placeholder:"name@mail.ru",...o.getInputProps("email")},m={radius:"xs",name:"promo_code",key:o.key("promo_code"),placeholder:"Введите промокод",...o.getInputProps("promo_code")},f=o.onSubmit(l=>{const d={...l};r&&delete d.mbti_type,r||delete d.survey_result,d.promo_code||delete d.promo_code,a(d)});return{form:o,onSubmit:f,emailProps:s,promocodeProps:m}},Se=()=>{const{pending:e}=c(u),{applyPromoHandler:r,promocodeError:a,showSuccessMessage:o}=c({applyPromoHandler:S,promocodeError:z,showSuccessMessage:T}),{onSubmit:s,promocodeProps:m,emailProps:f,form:l}=ye();return t.jsxs(oe,{onSubmit:s,children:[t.jsx(ae,{...f}),t.jsxs($,{bg:"gray.0",radius:"xs",p:"md",px:"sm",children:[t.jsx(i,{className:x.promocodeLabel,children:"У меня есть промокод"}),t.jsxs(le,{className:x.promocodeWrapper,children:[t.jsx(de,{...m,disabled:e,error:a,"data-success":o,description:o?"Промокод применен":"",inputWrapperOrder:["label","input","description","error"]}),t.jsx(ee,{fullWidth:!0,c:"dark.7",radius:"xs",color:"dark.7",variant:"outline",disabled:e,loading:e,onClick:()=>r(l.values.promo_code.toUpperCase()),children:"Применить"})]})]}),t.jsx(re,{disabled:e,radius:"xs",size:"md",type:"submit",children:"Перейти к оплате"}),t.jsxs(i,{fz:12,ta:"center",mb:12,children:["Нажимая на кнопку, вы подтверждаете свое согласие на сбор, хранение и использование ваших персональных данных согласно"," ",t.jsx(i,{fz:12,c:"blue.7",component:"a",href:"/privacy-policy",children:"Политике конфиденциальности"})," ","и принимаете условия"," ",t.jsx(i,{fz:12,c:"blue.7",component:"a",href:"/publisher-offer",children:"Публичной оферты"})]})]})},Te=()=>{const{data:e}=c(j),{data:r}=c(u);return t.jsxs(H,{className:p.wrapper,children:[t.jsx(ne,{className:p.title,order:2,children:"Полный отчет по вашему типу личности"}),t.jsx(y,{className:p.skeleton,hidden:!!(e!=null&&e.regular_price),radius:"sm"}),t.jsxs(O,{gap:"lg",children:[t.jsxs(i,{hidden:!e,className:p.price,td:r!=null&&r.discount?"line-through":"",c:r!=null&&r.discount?"dark.0":"dark.7",children:[e==null?void 0:e.regular_price," ",t.jsx(i,{className:p.price,span:!0,ff:"system-ui",children:"₽"})]}),t.jsxs(i,{hidden:!(r!=null&&r.discount),className:p.price,c:"violet.8",children:[r==null?void 0:r.final_price," ",t.jsx(i,{className:p.price,span:!0,ff:"system-ui",children:"₽"})]})]})]})};function xe(){return t.jsx(pe,{image:"/images/man-temp_large.webp",children:t.jsxs(v,{children:[t.jsx(Te,{}),t.jsx(Se,{}),t.jsx(Z,{})]})})}const ve=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),_=q();n({and:[{clock:_,target:j.refresh}],or:{sid:"-m6izlg"}});const Pe=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:_},Symbol.toStringTag,{value:"Module"})),tr={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:Q}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:G}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:W}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Cognitive Lab"}},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","lang"]},valueSerialized:{type:"js-serialized",value:"ru"}},reactStrictMode:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","reactStrictMode"]},valueSerialized:{type:"js-serialized",value:!1}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+onBeforeRenderClient.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:J}]},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:K}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:X}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/widgets/RootLayout/index.tsx",fileExportPathToShowToUser:["RootLayout"]}],valueSerialized:[{type:"pointer-import",value:Y}]},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/purchase-report/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ve}},pageStarted:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/purchase-report/+pageStarted.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Pe}}};export{tr as configValuesSerialized};
