import{J as He,n as Ue,y as Qe,N as Ve,az as Be,aA as Ge,j as Q,aB as Je,B as We,aC as Ke,a4 as E,Q as k,W as T,Y as L,aD as J,X as f,a3 as O,a9 as _e,S as U,V as Xe,aE as $e,aF as Ye}from"./chunk-Bh0Djd6l.js";const Ze={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var be={root:"m_8bffd616"};const et={},ke=He((e,t)=>{const r=Ue("Flex",et,e),{classNames:a,className:s,style:i,styles:o,unstyled:c,vars:h,gap:w,rowGap:n,columnGap:l,align:b,justify:d,wrap:p,direction:m,...y}=r,_=Qe({name:"Flex",classes:be,props:r,className:s,style:i,classNames:a,styles:o,unstyled:c,vars:h}),P=Ve(),v=Be(),F=Ge({styleProps:{gap:w,rowGap:n,columnGap:l,align:b,justify:d,wrap:p,direction:m},theme:P,data:Ze});return Q.jsxs(Q.Fragment,{children:[F.hasResponsiveStyles&&Q.jsx(Je,{selector:`.${v}`,styles:F.styles,media:F.media}),Q.jsx(We,{ref:t,..._("root",{className:v,style:Ke(F.inlineStyles)}),...y})]})});ke.classes=be;ke.displayName="@mantine/core/Flex";const Ee={isData:e=>!0,getErrorMessages:()=>[]};function H({field:e}){let t;if(e===void 0)t=T(r=>null,{serialize:"ignore",name:"ff.$target/undefined",sid:"ff.$target/undefined"});else if(U.store(e))t=L(e,r=>a=>r??null);else if(e!=null&&e.source&&e!=null&&e.fn){const r=e;t=L(r.source,a=>s=>r.fn(s,a)??null)}else if(typeof e=="function"){const r=e;t=T(a=>r(a)??null,{serialize:"ignore",name:"ff.$target/callbackField",sid:"ff.$target/$callbackField"})}else{const r=e;t=T(a=>r??null,{serialize:"ignore",name:"ff.$target/valueField",sid:"ff.$target/$valueField"})}return t}function tt(e){let t;if(e===void 0)t=E(async r=>null);else if(U.store(e))t=O({source:e,async effect(r,a){return r}});else if(e.source&&e.fn){const r=e;t=O({source:r.source,async effect(a,s){return r.fn(s,a)}})}else if(typeof e=="function"){const r=e;t=E(async a=>r(a))}else{const r=e;t=E(async a=>r)}return t}function ne(e){return e?U.store(e)?e:T(e,{serialize:"ignore",name:"ff.$target/valueField",sid:"ff.$target/$valueField"}):T(null,{serialize:"ignore",name:"ff.$target/undefined",sid:"ff.$target/$undefined"})}function rt({clock:e,timeout:t,target:r=k()}){const a=E(({payload:s,milliseconds:i})=>new Promise(o=>{setTimeout(o,i,s)}));return f({source:ne(t),clock:e,fn:(s,i)=>({payload:i,milliseconds:s}),target:a}),f({clock:a.doneData,target:r}),r}function at(e,t){let r=[],a=()=>!1;Array.isArray(e)?(r=e,a=t):Array.isArray(e.stores)&&(r=e.stores,a=e.predicate);let s;nt(a)?s=a:U.store(a)?s=a.map(o=>c=>o===c):s=o=>o===a;const i=L(r);return L(s,i,(o,c)=>c.every(o))}function nt(e){return typeof e=="function"}function ee(e){return e.map(t=>!t)}function st(...e){return at({predicate:!0,stores:e})}function ot({clock:e,until:t}){const r=k(),a=T(!1,{serialize:"ignore",name:"ff.$fired",sid:"ff.$fired"}).on(r,()=>!0).on(e,()=>!1);return f({clock:[e,t],source:e,filter:st(t,ee(a)),target:r}),r}function Y(e){if(e==="ignore")return"ignore"}const ue=E(()=>Date.now());function it({clock:e}){const t=T(Date.now(),{name:"ff.$time",sid:"ff.$time"});return f({clock:e,fn:()=>{},target:ue}),f({clock:ue.doneData,target:t}),t}function $(e){return e.map(t=>t,{skipVoid:!1})}function ct(){const e={resolve:()=>{},reject:()=>{},promise:null};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e.promise.catch(()=>{}),e}function te(e,t){try{if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;const r=fe(e),a=fe(t);if(r!==a)return!1;if(r==="pure-object"){if(e===t)return!0;const s=Object.keys(e),i=Object.keys(t).length;if(s.length!==i)return!1;for(let o=0,c=s.length;o<c;o++){const h=s[o];if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;const w=e[h],n=t[h];if(w===e||n===t||w===t||n===e)return w===n;if(!te(w,n))return!1}return!0}else if(r==="array"){if(e.length===t.length)for(let s=0;s<e.length;s++){const i=e[s],o=t[s];if(i===e||o===t||i===t||o===e)return i===o;if(!te(i,o))return!1}else return!1;return!0}else if(r==="object"&&e.valueOf&&t.valueOf)return e.valueOf()===t.valueOf()}catch{}return!1}function lt(e){if(Array.isArray(e))return!0;const t=e.length;return typeof t=="number"&&t>-1?t?0 in e&&t-1 in e:!0:!1}function fe(e){const t=typeof e;return t==="object"?e===null?"null":lt(e)?"array":e.constructor===Object||Object.getPrototypeOf(e)===null?"pure-object":"object":t}function pe(e){return t=>t[e]}function ve(){var e,t;return((t=(e=$e({regional:!0}).family.owners[0])==null?void 0:e.meta)==null?void 0:t.name)??void 0}const ut="INVALID_DATA",Pe="ABORT",ft="HTTP",pt="NETWORK";function re(e){return{...e,errorType:ut,explanation:"Response was considered as invalid against a given contract"}}function dt(){return{errorType:Pe,explanation:"Request was cancelled due to concurrency policy"}}function mt(e){return{...e,errorType:ft,explanation:"Request was finished with unsuccessful HTTP code"}}function ht(e){return{...e,errorType:pt,explanation:"Request was failed due to network problems"}}function yt(e){return E({handler:({result:t})=>{if(!e.isData(t))throw re({validationErrors:e.getErrorMessages(t),response:t});return t},sid:"ff.applyContractFx"})}function gt(e){return!!(e===!0||Array.isArray(e)&&e.length===0||typeof e=="string"&&e.length===0)}function de(e){return e===!0?[]:e===!1?["Invalid data"]:Array.isArray(e)?e.length===0?[]:e:[e]}const wt=()=>!0;function _t(e){var t;return((t=e.error)==null?void 0:t.errorType)===Pe}let me=null;function $t(){const e=me;return me=null,e}function bt(e){const t=k(e.shortName+".internalCall"),r=Ye.compute({fn:a=>{const s=a.handler,i=kt(s,t);return a.handler=i,a}});return Et(e).seq.splice(1,0,r),t}function kt(e,t){function r(...a){const{result:s,abortCallback:i}=At(e,...a);if(s instanceof Promise){const o=ct(),c=he(o,i);return t(c),s.then(o.resolve,o.reject),o.promise}else{const o=he(void 0,i);return t(o),s}}return r}function he(e,t){let r=e?"pending":"finished";function a(){r="finished",s.status=r}e&&e.promise.then(a,a);const s={id:Pt(),status:r,abort:(i=dt())=>{t==null||t(),r!=="finished"&&e&&e.reject(i)},promise:e==null?void 0:e.promise};return s}function Et(e){return e.graphite.scope.runner}let vt=0;function Pt(){return`${vt++}`}function At(e,...t){Tt();const r=e(...t),a=$t();return{result:r,abortCallback:a}}const Tt=k();function Rt(e,{clock:t}){f({clock:t,source:St(e),target:Ae})}function St(e){if(!e.__.meta.$callObjects){const t=T([],{serialize:"ignore"});f({clock:e.__.lowLevelAPI.callObjectCreated,source:t,fn:(r,a)=>r.filter(s=>s.status==="pending").concat(a),target:t}),f({clock:Ae.done,source:t,fn:(r,{params:a})=>r.filter(s=>!a.includes(s)),target:t}),e.__.meta.$callObjects=t}return e.__.meta.$callObjects}const Ae=E(e=>e.forEach(t=>t.abort()));function Te({name:e,meta:t,kind:r,serialize:a,enabled:s,contract:i,validate:o,mapData:c,sourced:h,paramsAreMeaningless:w}){const n=k(),l=k(),b=k(),d=k(),p=yt(i),m=e??"unnamed",y=E({handler:()=>{throw new Error("Not implemented")},sid:`ff.${m}.executeFx`,name:`${m}.executeFx`}),_=bt(y),P=[{name:"remote_source",get:E(async({params:u})=>({result:await y(u),stale:!1}))}],{retrieveDataFx:v,notifyAboutNewValidDataFx:F,notifyAboutDataInvalidationFx:D}=Ft(P),x=k(),z=k(),R=k();f({clock:x,fn:u=>({params:u,meta:{stopErrorPropagation:!1,stale:!0}}),target:d});const A={success:k(),failure:k(),skip:k(),finally:k()},j=k(),q=k(),M=k();J({source:j,match:{aborted:({error:u})=>_t({error:u})},cases:{aborted:M,__:A.failure}});const I=T("initial",{sid:`ff.${m}.$status`,name:`ff.${m}.$status`,serialize:a});f({clock:z,target:I.reinit});const X=T([],{serialize:"ignore",name:`ff.${m}.$statusHistory`,sid:`ff.${m}.$statusHistory`});f({clock:I.updates,source:X,fn:(u,g)=>[...u,g],target:X});const C=ne(s??!0).map(Boolean),oe=T(void 0,{serialize:"ignore",name:`ff.${m}.$latestParams`,sid:`ff.${m}.$latestParams`,skipVoid:!1}),Oe=I.map(u=>u==="initial"),Le=I.map(u=>u==="pending"),qe=I.map(u=>u==="fail"),ze=I.map(u=>u==="done"),Me=I.map(u=>["fail","done"].includes(u));f({clock:[v.map(()=>"pending"),A.success.map(()=>"done"),A.failure.map(()=>"fail"),f({clock:M,source:{history:X,retrieveDataPengind:v.pending},fn:({history:u,retrieveDataPengind:g})=>g?"pending":u[u.length-2]??"initial"})],target:I}),f({clock:d,filter:C,fn:({params:u})=>u,target:oe}),f({clock:x,filter:ee(C),fn(u){return{params:u,meta:{stopErrorPropagation:!1,stale:!1}}},target:A.skip}),f({clock:n,fn:({params:u})=>({params:u,meta:{stopErrorPropagation:!1,stale:!0}}),target:D}),f({clock:D.finally,source:n,filter:({refresh:u})=>u,fn:({params:u})=>({params:u,meta:{stopErrorPropagation:!1,stale:!0}}),target:d}),f({clock:d,filter:C,target:v}),f({clock:v,target:R}),f({clock:v.done,fn:({params:u,result:g})=>({params:u.params,result:g.result,meta:{stopErrorPropagation:g.stopErrorPropagation??!1,stale:g.stale}}),filter:C,target:p}),f({clock:v.fail,source:C,filter:(u,{error:g})=>u&&!g.stopErrorPropagation,fn:(u,{error:g,params:S})=>({error:g.error,params:S.params,meta:{stopErrorPropagation:g.stopErrorPropagation,stale:!1}}),target:j});const{validDataRecieved:ie,__:ce}=J(f({clock:p.done,source:{partialValidator:H({field:o??wt})},fn:({partialValidator:u},{params:{params:g,meta:S},result:N})=>({result:N,params:g,validation:u({result:N,params:g}),meta:S})}),{validDataRecieved:({validation:u})=>gt(u)});f({clock:ie,source:{partialMapper:H({field:c})},fn:({partialMapper:u},{params:g,result:S,meta:N})=>({result:u({params:g,result:S}),params:g,meta:N}),target:A.success}),f({clock:A.success,filter:({meta:u})=>u.stale,fn:({params:u,meta:g})=>({params:u,meta:g,skipStale:!0}),target:v}),f({clock:ie,filter:({meta:u})=>!u.stale,target:F}),f({clock:p.fail,filter:({params:u})=>!u.meta.stopErrorPropagation,fn:({error:u,params:g})=>({error:u,params:g.params,meta:g.meta}),target:j}),f({clock:p.fail,fn:({error:u,params:g})=>({error:u,params:g.params,meta:g.meta}),target:q}),f({clock:ce,filter:({meta:u})=>!u.stopErrorPropagation,fn:({params:u,validation:g,meta:S,result:N})=>({params:u,error:re({validationErrors:de(g),response:N}),meta:S}),target:j}),f({clock:ce,fn:({params:u,validation:g,meta:S,result:N})=>({params:u,error:re({validationErrors:de(g),response:N}),meta:S}),target:q}),f({clock:C.updates,source:x,filter:ee(C),fn:u=>({params:u,meta:{stopErrorPropagation:!1,stale:!0}}),target:A.skip}),f({clock:A.success,fn:({params:u,result:g,meta:S})=>({status:"done",params:u,result:g,meta:S}),target:A.finally}),f({clock:A.failure,fn:({params:u,error:g,meta:S})=>({status:"fail",params:u,error:g,meta:S}),target:A.finally}),f({clock:A.skip,fn:({params:u,meta:g})=>({status:"skip",params:u,meta:g}),target:A.finally});const le={start:x,finished:A,started:R,aborted:M,reset:z,$status:I,$idle:Oe,$pending:Le,$failed:qe,$succeeded:ze,$finished:Me,$enabled:C,__:{executeFx:y,meta:{...t,name:m,flags:{}},kind:r,$latestParams:$(oe),lowLevelAPI:{dataSources:P,dataSourceRetrieverFx:v,sourced:h??[],paramsAreMeaningless:w??!1,revalidate:n,pushError:b,pushData:l,startWithMeta:d,callObjectCreated:_,failedIgnoreSuppression:q}}};return Rt(le,{clock:z}),le}function Ft(e){const t=E({handler:async({params:s,skipStale:i})=>{for(const o of e)try{const c=await o.get({params:s});if(i&&c!=null&&c.stale)continue;if(c)return c}catch(c){throw{stopErrorPropagation:!1,error:c}}throw{stopErrorPropagation:!1,error:new Error("No data source returned data")}}}),r=E({handler:async({params:s,result:i})=>{await Promise.all(e.map(pe("set")).filter(Boolean).map(o=>o({params:s,result:i})))}}),a=E({handler:async({params:s})=>{await Promise.all(e.map(pe("unset")).filter(Boolean).map(i=>i({params:s})))}});return{retrieveDataFx:t,notifyAboutNewValidDataFx:r,notifyAboutDataInvalidationFx:a}}const It=Symbol("Query"),jt=Symbol("Farfetched node meta"),xt=Symbol("Farfetched links meta");function Dt(e,t){return $e({meta:{[jt]:e,[xt]:t},regional:!0})}function Re(e){const{initialData:t,contract:r,mapData:a,enabled:s,validate:i,name:o,serialize:c,sourced:h,paramsAreMeaningless:w}=e,n=t??null,l=Te({name:o??ve(),kind:It,serialize:Y(c),enabled:s,meta:{serialize:c,initialData:n,sid:Ct(T(null,{sid:"dummy"}))},contract:r,validate:i,mapData:a,sourced:h,paramsAreMeaningless:w}),b=k(),d=T(n,{sid:`ff.${l.__.meta.name}.$data`,name:`${l.__.meta.name}.$data`,serialize:c,skipVoid:!1}),p=T(null,{sid:`ff.${l.__.meta.name}.$error`,name:`${l.__.meta.name}.$error`,serialize:Y(c),skipVoid:!1}),m=T(!0,{sid:`ff.${l.__.meta.name}.$stale`,name:`${l.__.meta.name}.$stale`,serialize:Y(c),skipVoid:!1});f({clock:l.finished.success,fn:()=>null,target:p}),f({clock:l.finished.success,fn:({result:R})=>R,target:d}),d.reset(l.finished.failure),f({clock:l.finished.failure,fn:({error:R})=>R,target:p}),f({clock:l.finished.finally,fn:({meta:R})=>R.stale,target:m}),f({clock:l.__.lowLevelAPI.pushData,target:[d,p.reinit]}),f({clock:l.__.lowLevelAPI.pushError,target:[p,d.reinit]});const y=ot({clock:b,until:l.$enabled}),_=k(),{haveToStart:P,__:v}=J(f({clock:y,source:{stale:m,latestParams:l.__.$latestParams},fn:({stale:R,latestParams:A},j)=>({haveToStart:R||!te(j,A),params:j})}),{haveToStart:({haveToStart:R})=>R});f({clock:v,fn:()=>null,target:_}),f({clock:P,fn:({params:R})=>R,target:l.start}),f({clock:l.reset,target:[d.reinit,p.reinit,m.reinit]});const F={data:d,error:p,stale:m,pending:l.$pending,start:l.start},D=()=>F,x=({source:R,mapParams:A})=>{const j=Re(e);return j.__.lowLevelAPI.dataSourceRetrieverFx.use(O({source:R,mapParams:({params:q,...M},I)=>({params:A?A(q,I):q,...M}),effect:l.__.lowLevelAPI.dataSourceRetrieverFx})),j},z=Dt({type:"query",name:e.name},{$status:l.$status,$data:d,$error:p});return Xe(z,()=>({refresh:b,start:l.start,reset:l.reset,started:$(l.started),$data:$(d),$error:$(p),$status:$(l.$status),$idle:$(l.$idle),$pending:$(l.$pending),$succeeded:$(l.$succeeded),$failed:$(l.$failed),$finished:$(l.$finished),$enabled:$(l.$enabled),$stale:m,aborted:$(l.aborted),finished:{success:$(l.finished.success),failure:$(l.finished.failure),finally:$(l.finished.finally),skip:$(l.finished.skip)},__:{...l.__,lowLevelAPI:{...l.__.lowLevelAPI,refreshSkipDueToFreshness:_},experimentalAPI:{attach:x}},"@@unitShape":D}))}function Ct(e){const t=e.sid;return t!=null&&t.includes("|")?t:null}function Se(e){const t=e;if(U.effect(t.effect))return t.effect;if(typeof t.handler=="function")return E(t.handler);throw new Nt("handler or effect must be passed to the config")}class Nt extends Error{constructor(t){super(t)}}function Yr(e){const t=Re({initialData:e.initialData??null,contract:e.contract??Ee,mapData:e.mapData??(({result:r})=>r),enabled:e.enabled,validate:e.validate,name:e.name,serialize:e.serialize});return t.__.executeFx.use(Se(e)),t}const Ot=E({sid:"ff.fetchFx",handler:globalThis.fetch});E({handler:async e=>{const t=await Ot(e).catch(r=>{throw ht({reason:(r==null?void 0:r.message)??null,cause:r})});if(!t.ok)throw mt({status:t.status,statusText:t.statusText,response:await t.text().catch(()=>null)??null});return t},sid:"ff.requestFx"});const Lt=Symbol("Mutation");function Fe(e){const{name:t,enabled:r,contract:a,validate:s,mapData:i}=e,o=Te({name:t??ve(),serialize:"ignore",enabled:r,kind:Lt,meta:null,contract:a,validate:s,mapData:i}),c={pending:o.$pending,start:o.start,reset:o.reset},h=()=>c,w=({source:n,mapParams:l})=>{const b=Fe(e);return b.__.lowLevelAPI.dataSourceRetrieverFx.use(O({source:n,mapParams:({params:d,...p},m)=>({params:l?l(d,m):d,...p}),effect:o.__.lowLevelAPI.dataSourceRetrieverFx})),b};return{start:o.start,reset:o.reset,started:$(o.started),aborted:$(o.aborted),$status:$(o.$status),$idle:$(o.$idle),$pending:$(o.$pending),$succeeded:$(o.$succeeded),$failed:$(o.$failed),$finished:$(o.$finished),$enabled:$(o.$enabled),finished:{success:$(o.finished.success),failure:$(o.finished.failure),finally:$(o.finished.finally),skip:$(o.finished.skip)},__:{...o.__,experimentalAPI:{attach:w}},"@@unitShape":h}}function Zr(e){const t=Fe({name:e.name,enabled:e.enabled,contract:e.contract??Ee,mapData:({result:r})=>r});return t.__.executeFx.use(Se(e)),t}const qt=["ms","milli","millisecond","milliseconds"],zt=["s","sec","secs","second","seconds"],Mt=["m","min","mins","minute","minutes"],Ht=["h","hr","hrs","hour","hours"];function W(e){if(typeof e=="number")return e;let t=0;for(const r of e.split(" "))switch(!0){case V(r,qt):t+=B(r);break;case V(r,zt):t+=B(r)*1e3;break;case V(r,Mt):t+=B(r)*6e4;break;case V(r,Ht):t+=B(r)*36e5;break}return t}function V(e,t){return t.includes(Ut(e))}function Ut(e){return e.replace(/[0-9.]/g,"")}function B(e){return e.includes(".")?parseFloat(e):parseInt(e)}function ea(e,{times:t,delay:r,filter:a,mapParams:s,...i}){const o=i.supressIntermediateErrors??!0,c=ne(t),h=T(1,{serialize:"ignore",name:"ff.$attempt",sid:"ff.$attempt"}),w=L({attempt:h}),n=L(h,c,(y,_)=>o&&y<=_),l=k(),b=k(),d=H({field:a??!0}),{planNextAttempt:p,__:m}=J(f({clock:l,source:{maxAttempts:c,attempt:h,partialFilter:d},filter:({partialFilter:y},_)=>y(_),fn:({attempt:y,maxAttempts:_},{params:P,error:v,meta:F})=>({params:P,error:v,meta:{...F,attempt:y,maxAttempts:_}})}),{planNextAttempt:({meta:y})=>y.attempt<=y.maxAttempts});if(f({clock:rt({clock:f({clock:p,source:{partialMapper:H({field:s??(({params:y})=>y)})},fn:({partialMapper:y},_)=>y(_)}),timeout:L({partialTimeout:H({field:r}),meta:w},({partialTimeout:y,meta:_})=>W(y(_)))}),fn:y=>({params:y,meta:{stopErrorPropagation:!1,stale:!0}}),target:[b,e.__.lowLevelAPI.startWithMeta]}),h.on(b,y=>y+1).reset([e.finished.success,e.start]),i.otherwise&&f({clock:m,target:i.otherwise}),o){const y=e.__.lowLevelAPI.dataSourceRetrieverFx.use.getCurrent();f({clock:e.__.lowLevelAPI.failedIgnoreSuppression,target:l}),e.__.lowLevelAPI.dataSourceRetrieverFx.use(O({source:{supressError:n,partialFilter:d},mapParams:(_,{supressError:P,partialFilter:v})=>({..._,supressError:P,partialFilter:v}),effect:E(async({supressError:_,partialFilter:P,...v})=>{const F=_e(l,{safe:!0});try{return{...await y(v),stopErrorPropagation:_}}catch(D){const x={params:v.params,error:D.error,meta:v.meta};throw P(x)&&_?(F(x),{error:D.error,stopErrorPropagation:!0}):D}})}))}f({clock:e.finished.failure,target:l})}function Qt(e){const t=T(e,{serialize:"ignore",name:"ff.$cacheInstance",sid:"ff.$cacheInstance"});return{...e,__:{$instance:t}}}function Vt({adapter:e,options:t,events:r}){t!=null&&t.hit&&f({clock:e.get.done,filter:({result:a})=>a!==null,fn:({params:a})=>({key:a.key}),target:t.hit}),t!=null&&t.miss&&f({clock:e.get.done,filter:({result:a})=>a===null,fn:({params:a})=>({key:a.key}),target:t.miss}),t!=null&&t.expired&&r!=null&&r.itemExpired&&f({clock:r.itemExpired,fn:({key:a})=>({key:a}),target:t.expired}),t!=null&&t.evicted&&r!=null&&r.itemEvicted&&f({clock:r.itemEvicted,target:t.evicted})}function Bt(e){const{maxEntries:t,maxAge:r,observability:a}={};let s={};const i=k(),o=k(),c=k(),h=k(),w=k();w.watch(()=>{s={}});const n=it({clock:i}),l=f({clock:i,source:{now:n},fn:({now:d},{key:p,value:m})=>Gt(s,{key:p,entry:{value:m,cachedAt:d}},t)});if(l.watch(({next:d})=>{s=d}),f({clock:l,filter:({evicted:d})=>!!d,fn:({evicted:d})=>({key:d}),target:h}),o.watch(({key:d})=>{const{[d]:p,...m}=s;s=m}),r){const d=W(r);i.watch(p=>{const m=_e(c,{safe:!0});setTimeout(()=>m(p),d)}),f({clock:c,fn:({key:p})=>({key:p}),target:o})}const b={get:E(({key:d})=>{const p=s[d]??null;if(!p)return null;if(r){const m=(p==null?void 0:p.cachedAt)+W(r);if(Date.now()>=m)return o({key:d}),null}return p}),set:E(i),unset:E(o),purge:w};return Vt({adapter:b,options:a,events:{itemExpired:c,itemEvicted:h}}),Qt(b)}function Gt(e,{key:t,entry:r},a){if(a===void 0)return{next:{...e,[t]:r},evicted:null};const s=Object.keys(e);if(s.length<a)return{next:{...e,[t]:r},evicted:null};const[i]=s,{[i]:o,...c}=e;return{next:{...c,[t]:r},evicted:i}}function Jt(e){let t=0,r=0;for(;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t.toString(36)}function Ie(e){const t=new Set;function r(a){if(a===void 0)return;if(a===null)return"null";if(typeof a=="number")return isFinite(a)?`${a}`:"null";if(typeof a=="function")throw new TypeError("Can't serialize function");if(typeof a!="object")return JSON.stringify(a);if(t.has(a))throw new TypeError("Can't serialize cyclic structure");if(t.add(a),Array.isArray(a)){const i=a.map(o=>r(o)||"null").join(",");return t.delete(a),`[${i}]`}const s=Object.keys(a).sort().map(i=>{const o=r(a[i]);return o?`${r(i)}:${o}`:""}).filter(Boolean).join(",");return t.delete(a),`{${s}}`}return r(e)}function Wt({sid:e,params:t=null,sources:r}){try{return Ie({params:t,sources:r,sid:e})??null}catch{return null}}function Kt({sid:e,params:t=null,sources:r}){try{const a=Ie({params:t,sources:r,sid:e});return Jt(a)}catch{return null}}function Xt(e){const t=Yt(e);if(t)return t;const r=Zt(e);if(r)return r;throw new Error("Query does not have sid or uniq name, which is required for caching, read more https://effector.dev/en/explanation/sids/")}function Yt(e){return e.__.meta.sid??null}const ye=new Set;function Zt(e){const t=e.__.meta.name;return ye.has(t)?null:(ye.add(t),t)}function ta(e,t){const{adapter:r,staleAfter:a,purge:s,humanReadableKeys:i}={adapter:Bt(),humanReadableKeys:!1,...t},o=i?Wt:Kt,c=Xt(e),h=e.__.lowLevelAPI.sourced.map(tt),w=E(async p=>Promise.all(h.map(m=>m(p)))),n=E(async({instance:p,params:m})=>{const y=await w(m),_=o({sid:c,params:e.__.lowLevelAPI.paramsAreMeaningless?null:m,sources:y});_&&await p.unset({key:_})}),l=E(async({instance:p,params:m,result:y})=>{const _=await w(m),P=o({sid:c,params:e.__.lowLevelAPI.paramsAreMeaningless?null:m,sources:_});P&&await p.set({key:P,value:y})}),b=E(async({params:p,instance:m})=>{const y=await w(p),_=o({sid:c,params:e.__.lowLevelAPI.paramsAreMeaningless?null:p,sources:y});if(!_)return null;const P=await m.get({key:_});if(!P)return null;const v=a?P.cachedAt+W(a)<=Date.now():!0;return{result:P.value,stale:v}}),d={name:"cache",get:O({source:{instance:r.__.$instance},mapParams:({params:p},{instance:m})=>({params:p,instance:m}),effect:b}),set:O({source:{instance:r.__.$instance},mapParams:({params:p,result:m},{instance:y})=>({params:p,result:m,instance:y}),effect:l}),unset:O({source:{instance:r.__.$instance},mapParams:({params:p},{instance:m})=>({instance:m,params:p}),effect:n})};e.__.lowLevelAPI.dataSources.unshift(d),s&&f({clock:s,source:{instance:r.__.$instance},target:E(({instance:p})=>p.purge())})}const er=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,tr=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,rr=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ar(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){nr(e);return}return t}function nr(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function sr(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const a=r.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;if(a==="undefined")return;if(a==="null")return null;if(a==="nan")return Number.NaN;if(a==="infinity")return Number.POSITIVE_INFINITY;if(a==="-infinity")return Number.NEGATIVE_INFINITY}if(!rr.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(er.test(e)||tr.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,ar)}return JSON.parse(e)}catch(a){if(t.strict)throw a;return e}}const or=/#/g,ir=/&/g,cr=/\//g,lr=/=/g,se=/\+/g,ur=/%5e/gi,fr=/%60/gi,pr=/%7c/gi,dr=/%20/gi;function mr(e){return encodeURI(""+e).replace(pr,"|")}function ae(e){return mr(typeof e=="string"?e:JSON.stringify(e)).replace(se,"%2B").replace(dr,"+").replace(or,"%23").replace(ir,"%26").replace(fr,"`").replace(ur,"^").replace(cr,"%2F")}function Z(e){return ae(e).replace(lr,"%3D")}function je(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function hr(e){return je(e.replace(se," "))}function yr(e){return je(e.replace(se," "))}function gr(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const a=r.match(/([^=]+)=?(.*)/)||[];if(a.length<2)continue;const s=hr(a[1]);if(s==="__proto__"||s==="constructor")continue;const i=yr(a[2]||"");t[s]===void 0?t[s]=i:Array.isArray(t[s])?t[s].push(i):t[s]=[t[s],i]}return t}function wr(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${Z(e)}=${ae(r)}`).join("&"):`${Z(e)}=${ae(t)}`:Z(e)}function _r(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>wr(t,e[t])).filter(Boolean).join("&")}const $r=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,br=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,kr=/^([/\\]\s*){2,}[^/\\]/,Er=/^\.?\//;function xe(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?$r.test(e):br.test(e)||(t.acceptRelative?kr.test(e):!1)}function vr(e="",t){return e.endsWith("/")}function Pr(e="",t){return(vr(e)?e.slice(0,-1):e)||"/"}function Ar(e="",t){return e.endsWith("/")?e:e+"/"}function Tr(e,t){if(Sr(t)||xe(e))return e;const r=Pr(t);return e.startsWith(r)?e:Ir(r,e)}function Rr(e,t){const r=jr(e),a={...gr(r.search),...t};return r.search=_r(a),xr(r)}function Sr(e){return!e||e==="/"}function Fr(e){return e&&e!=="/"}function Ir(e,...t){let r=e||"";for(const a of t.filter(s=>Fr(s)))if(r){const s=a.replace(Er,"");r=Ar(r)+s}else r=a;return r}const De=Symbol.for("ufo:protocolRelative");function jr(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,l,b=""]=r;return{protocol:l.toLowerCase(),pathname:b,href:l+b,auth:"",host:"",search:"",hash:""}}if(!xe(e,{acceptRelative:!0}))return ge(e);const[,a="",s,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",c=""]=i.match(/([^#/?]*)(.*)?/)||[];a==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:h,search:w,hash:n}=ge(c);return{protocol:a.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:h,search:w,hash:n,[De]:!a}}function ge(e=""){const[t="",r="",a=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:a}}function xr(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",a=e.hash||"",s=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[De]?(e.protocol||"")+"//":"")+s+i+t+r+a}class Dr extends Error{constructor(t,r){super(t,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function Cr(e){var h,w,n,l,b;const t=((h=e.error)==null?void 0:h.message)||((w=e.error)==null?void 0:w.toString())||"",r=((n=e.request)==null?void 0:n.method)||((l=e.options)==null?void 0:l.method)||"GET",a=((b=e.request)==null?void 0:b.url)||String(e.request)||"/",s=`[${r}] ${JSON.stringify(a)}`,i=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=`${s}: ${i}${t?` ${t}`:""}`,c=new Dr(o,e.error?{cause:e.error}:void 0);for(const d of["request","options","response"])Object.defineProperty(c,d,{get(){return e[d]}});for(const[d,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,d,{get(){return e.response&&e.response[p]}});return c}const Nr=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function we(e="GET"){return Nr.has(e.toUpperCase())}function Or(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Lr=new Set(["image/svg","application/xml","application/xhtml","application/html"]),qr=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function zr(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return qr.test(t)?"json":Lr.has(t)||t.startsWith("text/")?"text":"blob"}function Mr(e,t,r,a){const s=Hr((t==null?void 0:t.headers)??(e==null?void 0:e.headers),r==null?void 0:r.headers,a);let i;return(r!=null&&r.query||r!=null&&r.params||t!=null&&t.params||t!=null&&t.query)&&(i={...r==null?void 0:r.params,...r==null?void 0:r.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...r,...t,query:i,params:i,headers:s}}function Hr(e,t,r){if(!t)return new r(e);const a=new r(t);if(e)for(const[s,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))a.set(s,i);return a}async function G(e,t){if(t)if(Array.isArray(t))for(const r of t)await r(e);else await t(e)}const Ur=new Set([408,409,425,429,500,502,503,504]),Qr=new Set([101,204,205,304]);function Ce(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:a=globalThis.AbortController}=e;async function s(c){const h=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!h){let n;typeof c.options.retry=="number"?n=c.options.retry:n=we(c.options.method)?0:1;const l=c.response&&c.response.status||500;if(n>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(l):Ur.has(l))){const b=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return b>0&&await new Promise(d=>setTimeout(d,b)),i(c.request,{...c.options,retry:n-1})}}const w=Cr(c);throw Error.captureStackTrace&&Error.captureStackTrace(w,i),w}const i=async function(h,w={}){const n={request:h,options:Mr(h,w,e.defaults,r),response:void 0,error:void 0};n.options.method&&(n.options.method=n.options.method.toUpperCase()),n.options.onRequest&&await G(n,n.options.onRequest),typeof n.request=="string"&&(n.options.baseURL&&(n.request=Tr(n.request,n.options.baseURL)),n.options.query&&(n.request=Rr(n.request,n.options.query),delete n.options.query),"query"in n.options&&delete n.options.query,"params"in n.options&&delete n.options.params),n.options.body&&we(n.options.method)&&(Or(n.options.body)?(n.options.body=typeof n.options.body=="string"?n.options.body:JSON.stringify(n.options.body),n.options.headers=new r(n.options.headers||{}),n.options.headers.has("content-type")||n.options.headers.set("content-type","application/json"),n.options.headers.has("accept")||n.options.headers.set("accept","application/json")):("pipeTo"in n.options.body&&typeof n.options.body.pipeTo=="function"||typeof n.options.body.pipe=="function")&&("duplex"in n.options||(n.options.duplex="half")));let l;if(!n.options.signal&&n.options.timeout){const d=new a;l=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,d.abort(p)},n.options.timeout),n.options.signal=d.signal}try{n.response=await t(n.request,n.options)}catch(d){return n.error=d,n.options.onRequestError&&await G(n,n.options.onRequestError),await s(n)}finally{l&&clearTimeout(l)}if((n.response.body||n.response._bodyInit)&&!Qr.has(n.response.status)&&n.options.method!=="HEAD"){const d=(n.options.parseResponse?"json":n.options.responseType)||zr(n.response.headers.get("content-type")||"");switch(d){case"json":{const p=await n.response.text(),m=n.options.parseResponse||sr;n.response._data=m(p);break}case"stream":{n.response._data=n.response.body||n.response._bodyInit;break}default:n.response._data=await n.response[d]()}}return n.options.onResponse&&await G(n,n.options.onResponse),!n.options.ignoreResponseError&&n.response.status>=400&&n.response.status<600?(n.options.onResponseError&&await G(n,n.options.onResponseError),await s(n)):n.response},o=async function(h,w){return(await i(h,w))._data};return o.raw=i,o.native=(...c)=>t(...c),o.create=(c={},h={})=>Ce({...e,...h,defaults:{...e.defaults,...h.defaults,...c}}),o}const K=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Vr=K.fetch?(...e)=>K.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Br=K.Headers,Gr=K.AbortController,Jr=Ce({fetch:Vr,Headers:Br,AbortController:Gr});function Wr(e,t){return typeof e=="function"?e(t):e}const Kr=({baseURL:e,headers:t,payload:r,withTokenInHeaders:a})=>E(s=>{var h;const{url:i,...o}=Wr(r,s),c=new Headers(t);return a&&c.append("Authorization",`Token ${(h=localStorage.getItem("$uuid"))==null?void 0:h.replaceAll('"',"")}`),Jr(i,{...o,headers:c,baseURL:e})},{name:"createRequestInstance",sid:"-2cl3s"}),Ne=e=>t=>Kr({...e,payload:t}),ra=Ne({baseURL:"https://api.dev.cognitivelab.ru",withTokenInHeaders:!0}),aa=Ne({baseURL:"https://api.dev.cognitivelab.ru"}),na={POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",GET:"GET"};export{ke as F,na as H,Yr as I,ta as M,ea as R,aa as a,ra as c,Zr as j};
