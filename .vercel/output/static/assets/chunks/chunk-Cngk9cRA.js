import{Y as L,a6 as J,N as j,a7 as C,a8 as G,a9 as F,Z as H,aa as Q,P as c,ab as R,a3 as W,J as X}from"./chunk-B1KjMZel.js";import{T as ee,d as re}from"./chunk-CUolC5vA.js";import{a as M}from"./chunk-CRpfl682.js";var K=new Map,U=r=>([o],g)=>r(g,o),V=L();function te(r){var{adapter:o,store:g,source:i=g,target:v=g,clock:b=i,done:h,fail:p=V,finally:P,pickup:l,context:S,key:E,keyPrefix:u="",contract:k}=r;if(!o)throw Error("Adapter is not defined");if(!i)throw Error("Store or source is not defined");if(!v)throw Error("Target is not defined");if(!E&&i.shortName===i.id)throw Error("Key or name is not defined");if(i===v&&!J.store(i))throw Error("Source must be different from target");r.def===void 0&&J.store(i)&&(r.def=i.defaultState);var n="factory"in o?o(r):o,y=E||i.shortName,A=function(s,d){var a=K.get(s);a===void 0&&(a=new Map,K.set(s,a));var f=a.get(d);return f!==void 0||(f=j(null,{serialize:"ignore"}),a.set(d,f)),f}(n.keyArea||n,u+y),N=C(),O=()=>R(N),D=s=>({status:d="fail",params:a,result:f,error:w})=>d==="done"?{status:d,key:y,keyPrefix:u,operation:s,value:s==="get"?f:a}:{status:d,key:y,keyPrefix:u,operation:s,value:typeof a=="function"?void 0:a,error:w};return G(N,()=>{var s=j([],{serialize:"ignore"}),d=n(u+y,e=>{I(e)}),a=F({source:s,effect:U(d.get)}),f=F({source:s,effect:U(d.set)}),w=H((e=>t=>!e||t===void 0||("isData"in e?e.isData(t):e(t))?t:(()=>{throw"getErrorMessages"in e?e.getErrorMessages(t):void 0})())(k)),$=L(),_=L(),I=a;s.updates.watch(()=>{I=Q(a,{safe:!0})}),c({clock:b,source:i,target:_}),c({clock:_,source:A,filter:(e,t)=>t!==e,fn:(e,t)=>t,target:f}),c({clock:[a.doneData,c(f,f.done)],filter:e=>e!==void 0,target:A}),c({clock:[a.doneData,A],target:w}),c({clock:w.doneData,filter:e=>e!==void 0,target:v}),c({clock:[a.finally.map(D("get")),f.finally.map(D("set")),w.fail.map(D("validate"))],target:$}),P&&c({clock:$,target:P}),h&&c({clock:$,filter:({status:e})=>e==="done",fn:({key:e,keyPrefix:t,operation:T,value:z})=>({key:e,keyPrefix:t,operation:T,value:z}),target:h}),c({clock:$,filter:({status:e})=>e==="fail",fn:({key:e,keyPrefix:t,operation:T,error:z,value:B})=>({key:e,keyPrefix:t,operation:T,error:z,value:B}),target:p}),S&&s.on(S,([e],t)=>[t===void 0?e:t]),l?(c({clock:l,fn:()=>{},target:a}),s.on(l,([e],t)=>[t===void 0?e:t])):a()}),O.unsubscribe=O}V.watch(r=>console.error(r.error));function Y({keyArea:r=""}={}){var o=()=>({get(){},set(){}});return o.keyArea=r,o.noop=!0,o}Y.factory=!0;function Z({storage:r,sync:o=!1,serialize:g=JSON.stringify,deserialize:i=JSON.parse,timeout:v,def:b}){var h=(p,P)=>{var l,S,E,u=()=>E.setItem(p,g(S)),k=n=>{l=clearTimeout(l),n&&u(),typeof removeEventListener<"u"&&removeEventListener("beforeunload",k)};return o&&typeof addEventListener<"u"&&addEventListener("storage",n=>{n.storageArea===r()&&(n.key===p&&P(o==="force"?void 0:n.newValue),n.key===null&&P(null))}),{get(n){k();var y=n!==void 0?n:r().getItem(p);return y===null?b!==void 0?b:n:i(y)},set(n){S=n,E=r(),v===void 0?u():l||(l=setTimeout(k,v,1),typeof addEventListener<"u"&&addEventListener("beforeunload",k))}}};try{h.keyArea=r()}catch{}return h}Z.factory=!0;function q(r){return function(){try{return typeof localStorage<"u"}catch{return!0}}()?Z({storage:()=>localStorage,sync:!0,...r}):Y({keyArea:"local"})}function ae(r){return o=>te({adapter:q,...r,...o})}q.factory=!0;var x=ae();const{$currentPage:oe,$scaleForm:ne,$currentProgress:ie}=ee,m=W(),se=X({sid:"-42bouh",fn:()=>re(m,300),name:"delayedPageStarted",method:"delay"});c({and:[{clock:se,source:M,fn:r=>r.length>0?r:crypto.randomUUID(),target:M}],or:{sid:"3dhm0w"}});x({store:M,pickup:m});x({store:oe,pickup:m});x({store:ne,pickup:m});x({store:ie,pickup:m});const le=Object.freeze(Object.defineProperty({__proto__:null,pageStarted:m},Symbol.toStringTag,{value:"Module"}));export{le as i};
