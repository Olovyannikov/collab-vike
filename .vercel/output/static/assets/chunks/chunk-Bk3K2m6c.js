import{ah as vt,m as re,n as D,y as G,j as T,B as V,C as se,K as J,s as te,A as _t,r as Ne,J as ye,ak as Qe,P as je,D as bt,N as $t,ax as wt,ay as Pt,az as Et,aA as St,L as kt,aB as It,I as At,a4 as k,Q as E,W as j,Y as ee,aC as de,X as y,a3 as K,a9 as Ge,S as ce,V as Tt,aD as Je,aE as Rt}from"./chunk-Z2Rw1ehA.js";import{a as Fe}from"./chunk-DXMN5A6d.js";import{i as xt,a as Nt,b as jt,f as Ft,r as Ct}from"./chunk-C78j02Lg.js";const[zt,ge]=vt({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var B={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Ce={},Dt=se((e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${J(t)} - ${te(2)})`}})),ve=re((e,t)=>{const r=D("InputDescription",Ce,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,vars:m,size:g,__staticSelector:a,__inheritStyles:l=!0,variant:_,...p}=D("InputDescription",Ce,r),u=ge(),f=G({name:["InputWrapper",a],props:r,classes:B,className:n,style:o,classNames:s,styles:i,unstyled:c,rootSelector:"description",vars:m,varsResolver:Dt}),h=l&&(u==null?void 0:u.getStyles)||f;return T.jsx(V,{component:"p",ref:t,variant:_,size:g,...h("description",u!=null&&u.getStyles?{className:n,style:o}:void 0),...p})});ve.classes=B;ve.displayName="@mantine/core/InputDescription";const Lt={},Ot=se((e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${J(t)} - ${te(2)})`}})),_e=re((e,t)=>{const r=D("InputError",Lt,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,vars:m,size:g,__staticSelector:a,__inheritStyles:l=!0,variant:_,...p}=r,u=G({name:["InputWrapper",a],props:r,classes:B,className:n,style:o,classNames:s,styles:i,unstyled:c,rootSelector:"error",vars:m,varsResolver:Ot}),f=ge(),h=l&&(f==null?void 0:f.getStyles)||u;return T.jsx(V,{component:"p",ref:t,variant:_,size:g,...h("error",f!=null&&f.getStyles?{className:n,style:o}:void 0),...p})});_e.classes=B;_e.displayName="@mantine/core/InputError";const ze={labelElement:"label"},qt=se((e,{size:t})=>({label:{"--input-label-size":J(t),"--input-asterisk-color":void 0}})),be=re((e,t)=>{const r=D("InputLabel",ze,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,vars:m,labelElement:g,size:a,required:l,htmlFor:_,onMouseDown:p,children:u,__staticSelector:f,variant:h,mod:b,...$}=D("InputLabel",ze,r),v=G({name:["InputWrapper",f],props:r,classes:B,className:n,style:o,classNames:s,styles:i,unstyled:c,rootSelector:"label",vars:m,varsResolver:qt}),S=ge(),F=(S==null?void 0:S.getStyles)||v;return T.jsxs(V,{...F("label",S!=null&&S.getStyles?{className:n,style:o}:void 0),component:g,variant:h,size:a,ref:t,htmlFor:g==="label"?_:void 0,mod:[{required:l},b],onMouseDown:x=>{p==null||p(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},...$,children:[u,l&&T.jsx("span",{...F("required"),"aria-hidden":!0,children:" *"})]})});be.classes=B;be.displayName="@mantine/core/InputLabel";const De={},Ae=re((e,t)=>{const r=D("InputPlaceholder",De,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,vars:m,__staticSelector:g,variant:a,error:l,mod:_,...p}=D("InputPlaceholder",De,r),u=G({name:["InputPlaceholder",g],props:r,classes:B,className:n,style:o,classNames:s,styles:i,unstyled:c,rootSelector:"placeholder"});return T.jsx(V,{...u("placeholder"),mod:[{error:!!l},_],component:"span",variant:a,ref:t,...p})});Ae.classes=B;Ae.displayName="@mantine/core/InputPlaceholder";function Wt(e,{hasDescription:t,hasError:r}){const s=e.findIndex(m=>m==="input"),n=e.slice(0,s),o=e.slice(s+1),i=t&&n.includes("description")||r&&n.includes("error");return{offsetBottom:t&&o.includes("description")||r&&o.includes("error"),offsetTop:i}}const Bt={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Ht=se((e,{size:t})=>({label:{"--input-label-size":J(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${J(t)} - ${te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${J(t)} - ${te(2)})`}})),Te=re((e,t)=>{const r=D("InputWrapper",Bt,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,vars:m,size:g,variant:a,__staticSelector:l,inputContainer:_,inputWrapperOrder:p,label:u,error:f,description:h,labelProps:b,descriptionProps:$,errorProps:v,labelElement:S,children:F,withAsterisk:x,id:O,required:A,__stylesApiProps:I,mod:C,...H}=r,q=G({name:["InputWrapper",l],props:I||r,classes:B,className:n,style:o,classNames:s,styles:i,unstyled:c,vars:m,varsResolver:Ht}),R={size:g,variant:a,__staticSelector:l},L=_t(O),W=typeof x=="boolean"?x:A,X=(v==null?void 0:v.id)||`${L}-error`,ne=($==null?void 0:$.id)||`${L}-description`,ae=L,Y=!!f&&typeof f!="boolean",N=!!h,oe=`${Y?X:""} ${N?ne:""}`,Q=oe.trim().length>0?oe.trim():void 0,Z=(b==null?void 0:b.id)||`${L}-label`,le=u&&T.jsx(be,{labelElement:S,id:Z,htmlFor:ae,required:W,...R,...b,children:u},"label"),d=N&&T.jsx(ve,{...$,...R,size:($==null?void 0:$.size)||R.size,id:($==null?void 0:$.id)||ne,children:h},"description"),w=T.jsx(Ne.Fragment,{children:_(F)},"input"),z=Y&&Ne.createElement(_e,{...v,...R,size:(v==null?void 0:v.size)||R.size,key:"error",id:(v==null?void 0:v.id)||X},f),U=p.map(gt=>{switch(gt){case"label":return le;case"input":return w;case"description":return d;case"error":return z;default:return null}});return T.jsx(zt,{value:{getStyles:q,describedBy:Q,inputId:ae,labelId:Z,...Wt(p,{hasDescription:N,hasError:Y})},children:T.jsx(V,{ref:t,variant:a,size:g,mod:[{error:!!f},C],...q("root"),...H,children:U})})});Te.classes=B;Te.displayName="@mantine/core/InputWrapper";const Mt={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Ut=se((e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":je(t.size,"input-height"),"--input-fz":J(t.size),"--input-radius":t.radius===void 0?void 0:bt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?je(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}})),M=ye((e,t)=>{const r=D("Input",Mt,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,required:m,__staticSelector:g,__stylesApiProps:a,size:l,wrapperProps:_,error:p,disabled:u,leftSection:f,leftSectionProps:h,leftSectionWidth:b,rightSection:$,rightSectionProps:v,rightSectionWidth:S,rightSectionPointerEvents:F,leftSectionPointerEvents:x,variant:O,vars:A,pointer:I,multiline:C,radius:H,id:q,withAria:R,withErrorStyles:L,mod:W,inputSize:X,...ne}=r,{styleProps:ae,rest:Y}=Qe(ne),N=ge(),oe={offsetBottom:N==null?void 0:N.offsetBottom,offsetTop:N==null?void 0:N.offsetTop},Q=G({name:["Input",g],props:a||r,classes:B,className:n,style:o,classNames:s,styles:i,unstyled:c,stylesCtx:oe,rootSelector:"wrapper",vars:A,varsResolver:Ut}),Z=R?{required:m,disabled:u,"aria-invalid":!!p,"aria-describedby":N==null?void 0:N.describedBy,id:(N==null?void 0:N.inputId)||q}:{};return T.jsxs(V,{...Q("wrapper"),...ae,..._,mod:[{error:!!p&&L,pointer:I,disabled:u,multiline:C,"data-with-right-section":!!$,"data-with-left-section":!!f},W],variant:O,size:l,children:[f&&T.jsx("div",{...h,"data-position":"left",...Q("section",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),children:f}),T.jsx(V,{component:"input",...Y,...Z,ref:t,required:m,mod:{disabled:u,error:!!p&&L},variant:O,__size:X,...Q("input")}),$&&T.jsx("div",{...v,"data-position":"right",...Q("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),children:$})]})});M.classes=B;M.Wrapper=Te;M.Label=be;M.Error=_e;M.Description=ve;M.Placeholder=Ae;M.displayName="@mantine/core/Input";function Vt(e,t,r){const s=D(e,t,r),{label:n,description:o,error:i,required:c,classNames:m,styles:g,className:a,unstyled:l,__staticSelector:_,__stylesApiProps:p,errorProps:u,labelProps:f,descriptionProps:h,wrapperProps:b,id:$,size:v,style:S,inputContainer:F,inputWrapperOrder:x,withAsterisk:O,variant:A,vars:I,mod:C,...H}=s,{styleProps:q,rest:R}=Qe(H),L={label:n,description:o,error:i,required:c,classNames:m,className:a,__staticSelector:_,__stylesApiProps:p||s,errorProps:u,labelProps:f,descriptionProps:h,unstyled:l,styles:g,size:v,style:S,inputContainer:F,inputWrapperOrder:x,withAsterisk:O,variant:A,id:$,mod:C,...b};return{...R,classNames:m,styles:g,unstyled:l,wrapperProps:{...L,...q},inputProps:{required:c,classNames:m,styles:g,unstyled:l,size:v,__staticSelector:_,__stylesApiProps:p||s,error:i,variant:A,id:$}}}const Qt={__staticSelector:"InputBase",withAria:!0},$e=ye((e,t)=>{const{inputProps:r,wrapperProps:s,...n}=Vt("InputBase",Qt,e);return T.jsx(M.Wrapper,{...s,children:T.jsx(M,{...r,...n,ref:t})})});$e.classes={...M.classes,...M.Wrapper.classes};$e.displayName="@mantine/core/InputBase";const Gt={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var Ke={root:"m_8bffd616"};const Jt={},Xe=ye((e,t)=>{const r=D("Flex",Jt,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,vars:m,gap:g,rowGap:a,columnGap:l,align:_,justify:p,wrap:u,direction:f,...h}=r,b=G({name:"Flex",classes:Ke,props:r,className:n,style:o,classNames:s,styles:i,unstyled:c,vars:m}),$=$t(),v=wt(),S=Pt({styleProps:{gap:g,rowGap:a,columnGap:l,align:_,justify:p,wrap:u,direction:f},theme:$,data:Gt});return T.jsxs(T.Fragment,{children:[S.hasResponsiveStyles&&T.jsx(Et,{selector:`.${v}`,styles:S.styles,media:S.media}),T.jsx(V,{ref:t,...b("root",{className:v,style:St(S.inlineStyles)}),...h})]})});Xe.classes=Ke;Xe.displayName="@mantine/core/Flex";var Ye={root:"m_b6d8b162"};function Kt(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Xt={inherit:!1},Yt=se((e,{variant:t,lineClamp:r,gradient:s,size:n,color:o})=>({root:{"--text-fz":J(n),"--text-lh":kt(n),"--text-gradient":t==="gradient"?It(s,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":o?At(o,e):void 0}})),Ze=ye((e,t)=>{const r=D("Text",Xt,e),{lineClamp:s,truncate:n,inline:o,inherit:i,gradient:c,span:m,__staticSelector:g,vars:a,className:l,style:_,classNames:p,styles:u,unstyled:f,variant:h,mod:b,size:$,...v}=r,S=G({name:["Text",g],props:r,classes:Ye,className:l,style:_,classNames:p,styles:u,unstyled:f,vars:a,varsResolver:Yt});return T.jsx(V,{...S("root",{focusable:!0}),ref:t,component:m?"span":"p",variant:h,mod:[{"data-truncate":Kt(n),"data-line-clamp":typeof s=="number","data-inline":o,"data-inherit":i},b],size:$,...v})});Ze.classes=Ye;Ze.displayName="@mantine/core/Text";const Zt={},et=re((e,t)=>{const r=D("TextInput",Zt,e);return T.jsx($e,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});et.classes=$e.classes;et.displayName="@mantine/core/TextInput";const er=["h1","h2","h3","h4","h5","h6"],tr=["xs","sm","md","lg","xl"];function rr(e,t){const r=t!==void 0?t:`h${e}`;return er.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:tr.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:te(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var tt={root:"m_8a5d1357"};const sr={order:1},nr=se((e,{order:t,size:r,lineClamp:s,textWrap:n})=>{const o=rr(t,r);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof s=="number"?s.toString():void 0,"--title-text-wrap":n}}}),rt=re((e,t)=>{const r=D("Title",sr,e),{classNames:s,className:n,style:o,styles:i,unstyled:c,order:m,vars:g,size:a,variant:l,lineClamp:_,textWrap:p,mod:u,...f}=r,h=G({name:"Title",props:r,classes:tt,className:n,style:o,classNames:s,styles:i,unstyled:c,vars:g,varsResolver:nr});return[1,2,3,4,5,6].includes(m)?T.jsx(V,{...h("root"),component:`h${m}`,variant:l,ref:t,mod:[{order:m,"data-line-clamp":typeof _=="number"},u],size:a,...f}):null});rt.classes=tt;rt.displayName="@mantine/core/Title";const st={isData:e=>!0,getErrorMessages:()=>[]};function ie({field:e}){let t;if(e===void 0)t=j(r=>null,{serialize:"ignore",name:"ff.$target/undefined",sid:"ff.$target/undefined"});else if(ce.store(e))t=ee(e,r=>s=>r??null);else if(e!=null&&e.source&&e!=null&&e.fn){const r=e;t=ee(r.source,s=>n=>r.fn(n,s)??null)}else if(typeof e=="function"){const r=e;t=j(s=>r(s)??null,{serialize:"ignore",name:"ff.$target/callbackField",sid:"ff.$target/$callbackField"})}else{const r=e;t=j(s=>r??null,{serialize:"ignore",name:"ff.$target/valueField",sid:"ff.$target/$valueField"})}return t}function ar(e){let t;if(e===void 0)t=k(async r=>null);else if(ce.store(e))t=K({source:e,async effect(r,s){return r}});else if(e.source&&e.fn){const r=e;t=K({source:r.source,async effect(s,n){return r.fn(n,s)}})}else if(typeof e=="function"){const r=e;t=k(async s=>r(s))}else{const r=e;t=k(async s=>r)}return t}function Re(e){return e?ce.store(e)?e:j(e,{serialize:"ignore",name:"ff.$target/valueField",sid:"ff.$target/$valueField"}):j(null,{serialize:"ignore",name:"ff.$target/undefined",sid:"ff.$target/$undefined"})}function or({clock:e,timeout:t,target:r=E()}){const s=k(({payload:n,milliseconds:o})=>new Promise(i=>{setTimeout(i,o,n)}));return y({source:Re(t),clock:e,fn:(n,o)=>({payload:o,milliseconds:n}),target:s}),y({clock:s.doneData,target:r}),r}function ir(e,t){let r=[],s=()=>!1;Array.isArray(e)?(r=e,s=t):Array.isArray(e.stores)&&(r=e.stores,s=e.predicate);let n;cr(s)?n=s:ce.store(s)?n=s.map(i=>c=>i===c):n=i=>i===s;const o=ee(r);return ee(n,o,(i,c)=>c.every(i))}function cr(e){return typeof e=="function"}function Ee(e){return e.map(t=>!t)}function lr(...e){return ir({predicate:!0,stores:e})}function ur({clock:e,until:t}){const r=E(),s=j(!1,{serialize:"ignore",name:"ff.$fired",sid:"ff.$fired"}).on(r,()=>!0).on(e,()=>!1);return y({clock:[e,t],source:e,filter:lr(t,Ee(s)),target:r}),r}function we(e){if(e==="ignore")return"ignore"}const Le=k(()=>Date.now());function pr({clock:e}){const t=j(Date.now(),{name:"ff.$time",sid:"ff.$time"});return y({clock:e,fn:()=>{},target:Le}),y({clock:Le.doneData,target:t}),t}function P(e){return e.map(t=>t,{skipVoid:!1})}function fr(){const e={resolve:()=>{},reject:()=>{},promise:null};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e.promise.catch(()=>{}),e}function Se(e,t){try{if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;const r=Oe(e),s=Oe(t);if(r!==s)return!1;if(r==="pure-object"){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t).length;if(n.length!==o)return!1;for(let i=0,c=n.length;i<c;i++){const m=n[i];if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;const g=e[m],a=t[m];if(g===e||a===t||g===t||a===e)return g===a;if(!Se(g,a))return!1}return!0}else if(r==="array"){if(e.length===t.length)for(let n=0;n<e.length;n++){const o=e[n],i=t[n];if(o===e||i===t||o===t||i===e)return o===i;if(!Se(o,i))return!1}else return!1;return!0}else if(r==="object"&&e.valueOf&&t.valueOf)return e.valueOf()===t.valueOf()}catch{}return!1}function dr(e){if(Array.isArray(e))return!0;const t=e.length;return typeof t=="number"&&t>-1?t?0 in e&&t-1 in e:!0:!1}function Oe(e){const t=typeof e;return t==="object"?e===null?"null":dr(e)?"array":e.constructor===Object||Object.getPrototypeOf(e)===null?"pure-object":"object":t}function qe(e){return t=>t[e]}function nt(){var e,t;return((t=(e=Je({regional:!0}).family.owners[0])==null?void 0:e.meta)==null?void 0:t.name)??void 0}const mr="INVALID_DATA",at="ABORT",hr="HTTP",yr="NETWORK";function ke(e){return{...e,errorType:mr,explanation:"Response was considered as invalid against a given contract"}}function gr(){return{errorType:at,explanation:"Request was cancelled due to concurrency policy"}}function vr(e){return{...e,errorType:hr,explanation:"Request was finished with unsuccessful HTTP code"}}function _r(e){return{...e,errorType:yr,explanation:"Request was failed due to network problems"}}function br(e){return k({handler:({result:t})=>{if(!e.isData(t))throw ke({validationErrors:e.getErrorMessages(t),response:t});return t},sid:"ff.applyContractFx"})}function $r(e){return!!(e===!0||Array.isArray(e)&&e.length===0||typeof e=="string"&&e.length===0)}function We(e){return e===!0?[]:e===!1?["Invalid data"]:Array.isArray(e)?e.length===0?[]:e:[e]}const wr=()=>!0;function Pr(e){var t;return((t=e.error)==null?void 0:t.errorType)===at}let Be=null;function Er(){const e=Be;return Be=null,e}function Sr(e){const t=E(e.shortName+".internalCall"),r=Rt.compute({fn:s=>{const n=s.handler,o=kr(n,t);return s.handler=o,s}});return Ir(e).seq.splice(1,0,r),t}function kr(e,t){function r(...s){const{result:n,abortCallback:o}=Rr(e,...s);if(n instanceof Promise){const i=fr(),c=He(i,o);return t(c),n.then(i.resolve,i.reject),i.promise}else{const i=He(void 0,o);return t(i),n}}return r}function He(e,t){let r=e?"pending":"finished";function s(){r="finished",n.status=r}e&&e.promise.then(s,s);const n={id:Tr(),status:r,abort:(o=gr())=>{t==null||t(),r!=="finished"&&e&&e.reject(o)},promise:e==null?void 0:e.promise};return n}function Ir(e){return e.graphite.scope.runner}let Ar=0;function Tr(){return`${Ar++}`}function Rr(e,...t){xr();const r=e(...t),s=Er();return{result:r,abortCallback:s}}const xr=E();function Nr(e,{clock:t}){y({clock:t,source:jr(e),target:ot})}function jr(e){if(!e.__.meta.$callObjects){const t=j([],{serialize:"ignore"});y({clock:e.__.lowLevelAPI.callObjectCreated,source:t,fn:(r,s)=>r.filter(n=>n.status==="pending").concat(s),target:t}),y({clock:ot.done,source:t,fn:(r,{params:s})=>r.filter(n=>!s.includes(n)),target:t}),e.__.meta.$callObjects=t}return e.__.meta.$callObjects}const ot=k(e=>e.forEach(t=>t.abort()));function it({name:e,meta:t,kind:r,serialize:s,enabled:n,contract:o,validate:i,mapData:c,sourced:m,paramsAreMeaningless:g}){const a=E(),l=E(),_=E(),p=E(),u=br(o),f=e??"unnamed",h=k({handler:()=>{throw new Error("Not implemented")},sid:`ff.${f}.executeFx`,name:`${f}.executeFx`}),b=Sr(h),$=[{name:"remote_source",get:k(async({params:d})=>({result:await h(d),stale:!1}))}],{retrieveDataFx:v,notifyAboutNewValidDataFx:S,notifyAboutDataInvalidationFx:F}=Fr($),x=E(),O=E(),A=E();y({clock:x,fn:d=>({params:d,meta:{stopErrorPropagation:!1,stale:!0}}),target:p});const I={success:E(),failure:E(),skip:E(),finally:E()},C=E(),H=E(),q=E();de({source:C,match:{aborted:({error:d})=>Pr({error:d})},cases:{aborted:q,__:I.failure}});const R=j("initial",{sid:`ff.${f}.$status`,name:`ff.${f}.$status`,serialize:s});y({clock:O,target:R.reinit});const L=j([],{serialize:"ignore",name:`ff.${f}.$statusHistory`,sid:`ff.${f}.$statusHistory`});y({clock:R.updates,source:L,fn:(d,w)=>[...d,w],target:L});const W=Re(n??!0).map(Boolean),X=j(void 0,{serialize:"ignore",name:`ff.${f}.$latestParams`,sid:`ff.${f}.$latestParams`,skipVoid:!1}),ne=R.map(d=>d==="initial"),ae=R.map(d=>d==="pending"),Y=R.map(d=>d==="fail"),N=R.map(d=>d==="done"),oe=R.map(d=>["fail","done"].includes(d));y({clock:[v.map(()=>"pending"),I.success.map(()=>"done"),I.failure.map(()=>"fail"),y({clock:q,source:{history:L,retrieveDataPengind:v.pending},fn:({history:d,retrieveDataPengind:w})=>w?"pending":d[d.length-2]??"initial"})],target:R}),y({clock:p,filter:W,fn:({params:d})=>d,target:X}),y({clock:x,filter:Ee(W),fn(d){return{params:d,meta:{stopErrorPropagation:!1,stale:!1}}},target:I.skip}),y({clock:a,fn:({params:d})=>({params:d,meta:{stopErrorPropagation:!1,stale:!0}}),target:F}),y({clock:F.finally,source:a,filter:({refresh:d})=>d,fn:({params:d})=>({params:d,meta:{stopErrorPropagation:!1,stale:!0}}),target:p}),y({clock:p,filter:W,target:v}),y({clock:v,target:A}),y({clock:v.done,fn:({params:d,result:w})=>({params:d.params,result:w.result,meta:{stopErrorPropagation:w.stopErrorPropagation??!1,stale:w.stale}}),filter:W,target:u}),y({clock:v.fail,source:W,filter:(d,{error:w})=>d&&!w.stopErrorPropagation,fn:(d,{error:w,params:z})=>({error:w.error,params:z.params,meta:{stopErrorPropagation:w.stopErrorPropagation,stale:!1}}),target:C});const{validDataRecieved:Q,__:Z}=de(y({clock:u.done,source:{partialValidator:ie({field:i??wr})},fn:({partialValidator:d},{params:{params:w,meta:z},result:U})=>({result:U,params:w,validation:d({result:U,params:w}),meta:z})}),{validDataRecieved:({validation:d})=>$r(d)});y({clock:Q,source:{partialMapper:ie({field:c})},fn:({partialMapper:d},{params:w,result:z,meta:U})=>({result:d({params:w,result:z}),params:w,meta:U}),target:I.success}),y({clock:I.success,filter:({meta:d})=>d.stale,fn:({params:d,meta:w})=>({params:d,meta:w,skipStale:!0}),target:v}),y({clock:Q,filter:({meta:d})=>!d.stale,target:S}),y({clock:u.fail,filter:({params:d})=>!d.meta.stopErrorPropagation,fn:({error:d,params:w})=>({error:d,params:w.params,meta:w.meta}),target:C}),y({clock:u.fail,fn:({error:d,params:w})=>({error:d,params:w.params,meta:w.meta}),target:H}),y({clock:Z,filter:({meta:d})=>!d.stopErrorPropagation,fn:({params:d,validation:w,meta:z,result:U})=>({params:d,error:ke({validationErrors:We(w),response:U}),meta:z}),target:C}),y({clock:Z,fn:({params:d,validation:w,meta:z,result:U})=>({params:d,error:ke({validationErrors:We(w),response:U}),meta:z}),target:H}),y({clock:W.updates,source:x,filter:Ee(W),fn:d=>({params:d,meta:{stopErrorPropagation:!1,stale:!0}}),target:I.skip}),y({clock:I.success,fn:({params:d,result:w,meta:z})=>({status:"done",params:d,result:w,meta:z}),target:I.finally}),y({clock:I.failure,fn:({params:d,error:w,meta:z})=>({status:"fail",params:d,error:w,meta:z}),target:I.finally}),y({clock:I.skip,fn:({params:d,meta:w})=>({status:"skip",params:d,meta:w}),target:I.finally});const le={start:x,finished:I,started:A,aborted:q,reset:O,$status:R,$idle:ne,$pending:ae,$failed:Y,$succeeded:N,$finished:oe,$enabled:W,__:{executeFx:h,meta:{...t,name:f,flags:{}},kind:r,$latestParams:P(X),lowLevelAPI:{dataSources:$,dataSourceRetrieverFx:v,sourced:m??[],paramsAreMeaningless:g??!1,revalidate:a,pushError:_,pushData:l,startWithMeta:p,callObjectCreated:b,failedIgnoreSuppression:H}}};return Nr(le,{clock:O}),le}function Fr(e){const t=k({handler:async({params:n,skipStale:o})=>{for(const i of e)try{const c=await i.get({params:n});if(o&&c!=null&&c.stale)continue;if(c)return c}catch(c){throw{stopErrorPropagation:!1,error:c}}throw{stopErrorPropagation:!1,error:new Error("No data source returned data")}}}),r=k({handler:async({params:n,result:o})=>{await Promise.all(e.map(qe("set")).filter(Boolean).map(i=>i({params:n,result:o})))}}),s=k({handler:async({params:n})=>{await Promise.all(e.map(qe("unset")).filter(Boolean).map(o=>o({params:n})))}});return{retrieveDataFx:t,notifyAboutNewValidDataFx:r,notifyAboutDataInvalidationFx:s}}const Cr=Symbol("Query"),zr=Symbol("Farfetched node meta"),Dr=Symbol("Farfetched links meta");function Lr(e,t){return Je({meta:{[zr]:e,[Dr]:t},regional:!0})}function ct(e){const{initialData:t,contract:r,mapData:s,enabled:n,validate:o,name:i,serialize:c,sourced:m,paramsAreMeaningless:g}=e,a=t??null,l=it({name:i??nt(),kind:Cr,serialize:we(c),enabled:n,meta:{serialize:c,initialData:a,sid:Or(j(null,{sid:"dummy"}))},contract:r,validate:o,mapData:s,sourced:m,paramsAreMeaningless:g}),_=E(),p=j(a,{sid:`ff.${l.__.meta.name}.$data`,name:`${l.__.meta.name}.$data`,serialize:c,skipVoid:!1}),u=j(null,{sid:`ff.${l.__.meta.name}.$error`,name:`${l.__.meta.name}.$error`,serialize:we(c),skipVoid:!1}),f=j(!0,{sid:`ff.${l.__.meta.name}.$stale`,name:`${l.__.meta.name}.$stale`,serialize:we(c),skipVoid:!1});y({clock:l.finished.success,fn:()=>null,target:u}),y({clock:l.finished.success,fn:({result:A})=>A,target:p}),p.reset(l.finished.failure),y({clock:l.finished.failure,fn:({error:A})=>A,target:u}),y({clock:l.finished.finally,fn:({meta:A})=>A.stale,target:f}),y({clock:l.__.lowLevelAPI.pushData,target:[p,u.reinit]}),y({clock:l.__.lowLevelAPI.pushError,target:[u,p.reinit]});const h=ur({clock:_,until:l.$enabled}),b=E(),{haveToStart:$,__:v}=de(y({clock:h,source:{stale:f,latestParams:l.__.$latestParams},fn:({stale:A,latestParams:I},C)=>({haveToStart:A||!Se(C,I),params:C})}),{haveToStart:({haveToStart:A})=>A});y({clock:v,fn:()=>null,target:b}),y({clock:$,fn:({params:A})=>A,target:l.start}),y({clock:l.reset,target:[p.reinit,u.reinit,f.reinit]});const S={data:p,error:u,stale:f,pending:l.$pending,start:l.start},F=()=>S,x=({source:A,mapParams:I})=>{const C=ct(e);return C.__.lowLevelAPI.dataSourceRetrieverFx.use(K({source:A,mapParams:({params:H,...q},R)=>({params:I?I(H,R):H,...q}),effect:l.__.lowLevelAPI.dataSourceRetrieverFx})),C},O=Lr({type:"query",name:e.name},{$status:l.$status,$data:p,$error:u});return Tt(O,()=>({refresh:_,start:l.start,reset:l.reset,started:P(l.started),$data:P(p),$error:P(u),$status:P(l.$status),$idle:P(l.$idle),$pending:P(l.$pending),$succeeded:P(l.$succeeded),$failed:P(l.$failed),$finished:P(l.$finished),$enabled:P(l.$enabled),$stale:f,aborted:P(l.aborted),finished:{success:P(l.finished.success),failure:P(l.finished.failure),finally:P(l.finished.finally),skip:P(l.finished.skip)},__:{...l.__,lowLevelAPI:{...l.__.lowLevelAPI,refreshSkipDueToFreshness:b},experimentalAPI:{attach:x}},"@@unitShape":F}))}function Or(e){const t=e.sid;return t!=null&&t.includes("|")?t:null}function lt(e){const t=e;if(ce.effect(t.effect))return t.effect;if(typeof t.handler=="function")return k(t.handler);throw new qr("handler or effect must be passed to the config")}class qr extends Error{constructor(t){super(t)}}function an(e){const t=ct({initialData:e.initialData??null,contract:e.contract??st,mapData:e.mapData??(({result:r})=>r),enabled:e.enabled,validate:e.validate,name:e.name,serialize:e.serialize});return t.__.executeFx.use(lt(e)),t}const Wr=k({sid:"ff.fetchFx",handler:globalThis.fetch});k({handler:async e=>{const t=await Wr(e).catch(r=>{throw _r({reason:(r==null?void 0:r.message)??null,cause:r})});if(!t.ok)throw vr({status:t.status,statusText:t.statusText,response:await t.text().catch(()=>null)??null});return t},sid:"ff.requestFx"});const Br=Symbol("Mutation");function ut(e){const{name:t,enabled:r,contract:s,validate:n,mapData:o}=e,i=it({name:t??nt(),serialize:"ignore",enabled:r,kind:Br,meta:null,contract:s,validate:n,mapData:o}),c={pending:i.$pending,start:i.start,reset:i.reset},m=()=>c,g=({source:a,mapParams:l})=>{const _=ut(e);return _.__.lowLevelAPI.dataSourceRetrieverFx.use(K({source:a,mapParams:({params:p,...u},f)=>({params:l?l(p,f):p,...u}),effect:i.__.lowLevelAPI.dataSourceRetrieverFx})),_};return{start:i.start,reset:i.reset,started:P(i.started),aborted:P(i.aborted),$status:P(i.$status),$idle:P(i.$idle),$pending:P(i.$pending),$succeeded:P(i.$succeeded),$failed:P(i.$failed),$finished:P(i.$finished),$enabled:P(i.$enabled),finished:{success:P(i.finished.success),failure:P(i.finished.failure),finally:P(i.finished.finally),skip:P(i.finished.skip)},__:{...i.__,experimentalAPI:{attach:g}},"@@unitShape":m}}function on(e){const t=ut({name:e.name,enabled:e.enabled,contract:e.contract??st,mapData:({result:r})=>r});return t.__.executeFx.use(lt(e)),t}const Hr=["ms","milli","millisecond","milliseconds"],Mr=["s","sec","secs","second","seconds"],Ur=["m","min","mins","minute","minutes"],Vr=["h","hr","hrs","hour","hours"];function me(e){if(typeof e=="number")return e;let t=0;for(const r of e.split(" "))switch(!0){case ue(r,Hr):t+=pe(r);break;case ue(r,Mr):t+=pe(r)*1e3;break;case ue(r,Ur):t+=pe(r)*6e4;break;case ue(r,Vr):t+=pe(r)*36e5;break}return t}function ue(e,t){return t.includes(Qr(e))}function Qr(e){return e.replace(/[0-9.]/g,"")}function pe(e){return e.includes(".")?parseFloat(e):parseInt(e)}function cn(e,{times:t,delay:r,filter:s,mapParams:n,...o}){const i=o.supressIntermediateErrors??!0,c=Re(t),m=j(1,{serialize:"ignore",name:"ff.$attempt",sid:"ff.$attempt"}),g=ee({attempt:m}),a=ee(m,c,(h,b)=>i&&h<=b),l=E(),_=E(),p=ie({field:s??!0}),{planNextAttempt:u,__:f}=de(y({clock:l,source:{maxAttempts:c,attempt:m,partialFilter:p},filter:({partialFilter:h},b)=>h(b),fn:({attempt:h,maxAttempts:b},{params:$,error:v,meta:S})=>({params:$,error:v,meta:{...S,attempt:h,maxAttempts:b}})}),{planNextAttempt:({meta:h})=>h.attempt<=h.maxAttempts});if(y({clock:or({clock:y({clock:u,source:{partialMapper:ie({field:n??(({params:h})=>h)})},fn:({partialMapper:h},b)=>h(b)}),timeout:ee({partialTimeout:ie({field:r}),meta:g},({partialTimeout:h,meta:b})=>me(h(b)))}),fn:h=>({params:h,meta:{stopErrorPropagation:!1,stale:!0}}),target:[_,e.__.lowLevelAPI.startWithMeta]}),m.on(_,h=>h+1).reset([e.finished.success,e.start]),o.otherwise&&y({clock:f,target:o.otherwise}),i){const h=e.__.lowLevelAPI.dataSourceRetrieverFx.use.getCurrent();y({clock:e.__.lowLevelAPI.failedIgnoreSuppression,target:l}),e.__.lowLevelAPI.dataSourceRetrieverFx.use(K({source:{supressError:a,partialFilter:p},mapParams:(b,{supressError:$,partialFilter:v})=>({...b,supressError:$,partialFilter:v}),effect:k(async({supressError:b,partialFilter:$,...v})=>{const S=Ge(l,{safe:!0});try{return{...await h(v),stopErrorPropagation:b}}catch(F){const x={params:v.params,error:F.error,meta:v.meta};throw $(x)&&b?(S(x),{error:F.error,stopErrorPropagation:!0}):F}})}))}y({clock:e.finished.failure,target:l})}function Gr(e){const t=j(e,{serialize:"ignore",name:"ff.$cacheInstance",sid:"ff.$cacheInstance"});return{...e,__:{$instance:t}}}function Jr({adapter:e,options:t,events:r}){t!=null&&t.hit&&y({clock:e.get.done,filter:({result:s})=>s!==null,fn:({params:s})=>({key:s.key}),target:t.hit}),t!=null&&t.miss&&y({clock:e.get.done,filter:({result:s})=>s===null,fn:({params:s})=>({key:s.key}),target:t.miss}),t!=null&&t.expired&&r!=null&&r.itemExpired&&y({clock:r.itemExpired,fn:({key:s})=>({key:s}),target:t.expired}),t!=null&&t.evicted&&r!=null&&r.itemEvicted&&y({clock:r.itemEvicted,target:t.evicted})}function Kr(e){const{maxEntries:t,maxAge:r,observability:s}={};let n={};const o=E(),i=E(),c=E(),m=E(),g=E();g.watch(()=>{n={}});const a=pr({clock:o}),l=y({clock:o,source:{now:a},fn:({now:p},{key:u,value:f})=>Xr(n,{key:u,entry:{value:f,cachedAt:p}},t)});if(l.watch(({next:p})=>{n=p}),y({clock:l,filter:({evicted:p})=>!!p,fn:({evicted:p})=>({key:p}),target:m}),i.watch(({key:p})=>{const{[p]:u,...f}=n;n=f}),r){const p=me(r);o.watch(u=>{const f=Ge(c,{safe:!0});setTimeout(()=>f(u),p)}),y({clock:c,fn:({key:u})=>({key:u}),target:i})}const _={get:k(({key:p})=>{const u=n[p]??null;if(!u)return null;if(r){const f=(u==null?void 0:u.cachedAt)+me(r);if(Date.now()>=f)return i({key:p}),null}return u}),set:k(o),unset:k(i),purge:g};return Jr({adapter:_,options:s,events:{itemExpired:c,itemEvicted:m}}),Gr(_)}function Xr(e,{key:t,entry:r},s){if(s===void 0)return{next:{...e,[t]:r},evicted:null};const n=Object.keys(e);if(n.length<s)return{next:{...e,[t]:r},evicted:null};const[o]=n,{[o]:i,...c}=e;return{next:{...c,[t]:r},evicted:o}}function Yr(e){let t=0,r=0;for(;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t.toString(36)}function pt(e){const t=new Set;function r(s){if(s===void 0)return;if(s===null)return"null";if(typeof s=="number")return isFinite(s)?`${s}`:"null";if(typeof s=="function")throw new TypeError("Can't serialize function");if(typeof s!="object")return JSON.stringify(s);if(t.has(s))throw new TypeError("Can't serialize cyclic structure");if(t.add(s),Array.isArray(s)){const o=s.map(i=>r(i)||"null").join(",");return t.delete(s),`[${o}]`}const n=Object.keys(s).sort().map(o=>{const i=r(s[o]);return i?`${r(o)}:${i}`:""}).filter(Boolean).join(",");return t.delete(s),`{${n}}`}return r(e)}function Zr({sid:e,params:t=null,sources:r}){try{return pt({params:t,sources:r,sid:e})??null}catch{return null}}function es({sid:e,params:t=null,sources:r}){try{const s=pt({params:t,sources:r,sid:e});return Yr(s)}catch{return null}}function ts(e){const t=rs(e);if(t)return t;const r=ss(e);if(r)return r;throw new Error("Query does not have sid or uniq name, which is required for caching, read more https://effector.dev/en/explanation/sids/")}function rs(e){return e.__.meta.sid??null}const Me=new Set;function ss(e){const t=e.__.meta.name;return Me.has(t)?null:(Me.add(t),t)}function ln(e,t){const{adapter:r,staleAfter:s,purge:n,humanReadableKeys:o}={adapter:Kr(),humanReadableKeys:!1,...t},i=o?Zr:es,c=ts(e),m=e.__.lowLevelAPI.sourced.map(ar),g=k(async u=>Promise.all(m.map(f=>f(u)))),a=k(async({instance:u,params:f})=>{const h=await g(f),b=i({sid:c,params:e.__.lowLevelAPI.paramsAreMeaningless?null:f,sources:h});b&&await u.unset({key:b})}),l=k(async({instance:u,params:f,result:h})=>{const b=await g(f),$=i({sid:c,params:e.__.lowLevelAPI.paramsAreMeaningless?null:f,sources:b});$&&await u.set({key:$,value:h})}),_=k(async({params:u,instance:f})=>{const h=await g(u),b=i({sid:c,params:e.__.lowLevelAPI.paramsAreMeaningless?null:u,sources:h});if(!b)return null;const $=await f.get({key:b});if(!$)return null;const v=s?$.cachedAt+me(s)<=Date.now():!0;return{result:$.value,stale:v}}),p={name:"cache",get:K({source:{instance:r.__.$instance},mapParams:({params:u},{instance:f})=>({params:u,instance:f}),effect:_}),set:K({source:{instance:r.__.$instance},mapParams:({params:u,result:f},{instance:h})=>({params:u,result:f,instance:h}),effect:l}),unset:K({source:{instance:r.__.$instance},mapParams:({params:u},{instance:f})=>({instance:f,params:u}),effect:a})};e.__.lowLevelAPI.dataSources.unshift(p),n&&y({clock:n,source:{instance:r.__.$instance},target:k(({instance:u})=>u.purge())})}const ns=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,as=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,os=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function is(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){cs(e);return}return t}function cs(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ls(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const s=r.toLowerCase();if(s==="true")return!0;if(s==="false")return!1;if(s==="undefined")return;if(s==="null")return null;if(s==="nan")return Number.NaN;if(s==="infinity")return Number.POSITIVE_INFINITY;if(s==="-infinity")return Number.NEGATIVE_INFINITY}if(!os.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ns.test(e)||as.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,is)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const us=/#/g,ps=/&/g,fs=/\//g,ds=/=/g,xe=/\+/g,ms=/%5e/gi,hs=/%60/gi,ys=/%7c/gi,gs=/%20/gi;function vs(e){return encodeURI(""+e).replace(ys,"|")}function Ie(e){return vs(typeof e=="string"?e:JSON.stringify(e)).replace(xe,"%2B").replace(gs,"+").replace(us,"%23").replace(ps,"%26").replace(hs,"`").replace(ms,"^").replace(fs,"%2F")}function Pe(e){return Ie(e).replace(ds,"%3D")}function ft(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function _s(e){return ft(e.replace(xe," "))}function bs(e){return ft(e.replace(xe," "))}function $s(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const s=r.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const n=_s(s[1]);if(n==="__proto__"||n==="constructor")continue;const o=bs(s[2]||"");t[n]===void 0?t[n]=o:Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]}return t}function ws(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${Pe(e)}=${Ie(r)}`).join("&"):`${Pe(e)}=${Ie(t)}`:Pe(e)}function Ps(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>ws(t,e[t])).filter(Boolean).join("&")}const Es=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Ss=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ks=/^([/\\]\s*){2,}[^/\\]/,Is=/^\.?\//;function dt(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Es.test(e):Ss.test(e)||(t.acceptRelative?ks.test(e):!1)}function As(e="",t){return e.endsWith("/")}function Ts(e="",t){return(As(e)?e.slice(0,-1):e)||"/"}function Rs(e="",t){return e.endsWith("/")?e:e+"/"}function xs(e,t){if(js(t)||dt(e))return e;const r=Ts(t);return e.startsWith(r)?e:Cs(r,e)}function Ns(e,t){const r=zs(e),s={...$s(r.search),...t};return r.search=Ps(s),Ds(r)}function js(e){return!e||e==="/"}function Fs(e){return e&&e!=="/"}function Cs(e,...t){let r=e||"";for(const s of t.filter(n=>Fs(n)))if(r){const n=s.replace(Is,"");r=Rs(r)+n}else r=s;return r}const mt=Symbol.for("ufo:protocolRelative");function zs(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,l,_=""]=r;return{protocol:l.toLowerCase(),pathname:_,href:l+_,auth:"",host:"",search:"",hash:""}}if(!dt(e,{acceptRelative:!0}))return Ue(e);const[,s="",n,o=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",c=""]=o.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:m,search:g,hash:a}=Ue(c);return{protocol:s.toLowerCase(),auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:i,pathname:m,search:g,hash:a,[mt]:!s}}function Ue(e=""){const[t="",r="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:s}}function Ds(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",n=e.auth?e.auth+"@":"",o=e.host||"";return(e.protocol||e[mt]?(e.protocol||"")+"//":"")+n+o+t+r+s}class Ls extends Error{constructor(t,r){super(t,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function Os(e){var m,g,a,l,_;const t=((m=e.error)==null?void 0:m.message)||((g=e.error)==null?void 0:g.toString())||"",r=((a=e.request)==null?void 0:a.method)||((l=e.options)==null?void 0:l.method)||"GET",s=((_=e.request)==null?void 0:_.url)||String(e.request)||"/",n=`[${r}] ${JSON.stringify(s)}`,o=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",i=`${n}: ${o}${t?` ${t}`:""}`,c=new Ls(i,e.error?{cause:e.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(c,p,{get(){return e[p]}});for(const[p,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,p,{get(){return e.response&&e.response[u]}});return c}const qs=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ve(e="GET"){return qs.has(e.toUpperCase())}function Ws(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Bs=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Hs=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Ms(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Hs.test(t)?"json":Bs.has(t)||t.startsWith("text/")?"text":"blob"}function Us(e,t,r,s){const n=Vs((t==null?void 0:t.headers)??(e==null?void 0:e.headers),r==null?void 0:r.headers,s);let o;return(r!=null&&r.query||r!=null&&r.params||t!=null&&t.params||t!=null&&t.query)&&(o={...r==null?void 0:r.params,...r==null?void 0:r.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...r,...t,query:o,params:o,headers:n}}function Vs(e,t,r){if(!t)return new r(e);const s=new r(t);if(e)for(const[n,o]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))s.set(n,o);return s}async function fe(e,t){if(t)if(Array.isArray(t))for(const r of t)await r(e);else await t(e)}const Qs=new Set([408,409,425,429,500,502,503,504]),Gs=new Set([101,204,205,304]);function ht(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function n(c){const m=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!m){let a;typeof c.options.retry=="number"?a=c.options.retry:a=Ve(c.options.method)?0:1;const l=c.response&&c.response.status||500;if(a>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(l):Qs.has(l))){const _=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return _>0&&await new Promise(p=>setTimeout(p,_)),o(c.request,{...c.options,retry:a-1})}}const g=Os(c);throw Error.captureStackTrace&&Error.captureStackTrace(g,o),g}const o=async function(m,g={}){const a={request:m,options:Us(m,g,e.defaults,r),response:void 0,error:void 0};a.options.method&&(a.options.method=a.options.method.toUpperCase()),a.options.onRequest&&await fe(a,a.options.onRequest),typeof a.request=="string"&&(a.options.baseURL&&(a.request=xs(a.request,a.options.baseURL)),a.options.query&&(a.request=Ns(a.request,a.options.query),delete a.options.query),"query"in a.options&&delete a.options.query,"params"in a.options&&delete a.options.params),a.options.body&&Ve(a.options.method)&&(Ws(a.options.body)?(a.options.body=typeof a.options.body=="string"?a.options.body:JSON.stringify(a.options.body),a.options.headers=new r(a.options.headers||{}),a.options.headers.has("content-type")||a.options.headers.set("content-type","application/json"),a.options.headers.has("accept")||a.options.headers.set("accept","application/json")):("pipeTo"in a.options.body&&typeof a.options.body.pipeTo=="function"||typeof a.options.body.pipe=="function")&&("duplex"in a.options||(a.options.duplex="half")));let l;if(!a.options.signal&&a.options.timeout){const p=new s;l=setTimeout(()=>{const u=new Error("[TimeoutError]: The operation was aborted due to timeout");u.name="TimeoutError",u.code=23,p.abort(u)},a.options.timeout),a.options.signal=p.signal}try{a.response=await t(a.request,a.options)}catch(p){return a.error=p,a.options.onRequestError&&await fe(a,a.options.onRequestError),await n(a)}finally{l&&clearTimeout(l)}if((a.response.body||a.response._bodyInit)&&!Gs.has(a.response.status)&&a.options.method!=="HEAD"){const p=(a.options.parseResponse?"json":a.options.responseType)||Ms(a.response.headers.get("content-type")||"");switch(p){case"json":{const u=await a.response.text(),f=a.options.parseResponse||ls;a.response._data=f(u);break}case"stream":{a.response._data=a.response.body||a.response._bodyInit;break}default:a.response._data=await a.response[p]()}}return a.options.onResponse&&await fe(a,a.options.onResponse),!a.options.ignoreResponseError&&a.response.status>=400&&a.response.status<600?(a.options.onResponseError&&await fe(a,a.options.onResponseError),await n(a)):a.response},i=async function(m,g){return(await o(m,g))._data};return i.raw=o,i.native=(...c)=>t(...c),i.create=(c={},m={})=>ht({...e,...m,defaults:{...e.defaults,...m.defaults,...c}}),i}const he=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Js=he.fetch?(...e)=>he.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Ks=he.Headers,Xs=he.AbortController,Ys=ht({fetch:Js,Headers:Ks,AbortController:Xs});function Zs(e,t){return typeof e=="function"?e(t):e}const en=({baseURL:e,headers:t,payload:r,withTokenInHeaders:s})=>k(n=>{var m;const{url:o,...i}=Zs(r,n),c=new Headers(t);return s&&c.append("Authorization",`Token ${(m=localStorage.getItem("$uuid"))==null?void 0:m.replaceAll('"',"")}`),Ys(o,{...i,headers:c,baseURL:e})},{name:"createRequestInstance",sid:"-2cl3s"}),yt=e=>t=>en({...e,payload:t}),un=yt({baseURL:"https://api.dev.cognitivelab.ru",withTokenInHeaders:!0}),pn=yt({baseURL:"https://api.dev.cognitivelab.ru"}),fn={POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",GET:"GET"};function tn(e,t){const r=`[${t}(url)] Invalid URL ${e}`;return Fe(xt(e),r),e.startsWith(location.origin)&&(e=e.slice(location.origin.length)),Fe(e.startsWith("/")||Nt(e),r),e}jt();async function dn(e,{keepScrollPosition:t=!1,overwriteLastHistoryEntry:r=!1,pageContext:s}={}){tn(e,"navigate"),await Ft,await Ct({scrollTarget:{preserveScroll:t},urlOriginal:e,overwriteLastHistoryEntry:r,isBackwardNavigation:!1,pageContextInitClient:s})}export{Xe as F,fn as H,an as I,ln as M,cn as R,Ze as T,rt as a,et as b,un as c,pn as d,M as e,on as j,dn as n,ge as u};
